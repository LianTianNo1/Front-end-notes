<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>å»ºè®®æœ‰æ—¶é—´æˆ–è€…æ ¡æ‹›è¦åšç¬”è¯•çš„åŒå­¦çœ‹ä¸‹ ç¤¾æ‹›åŸºæœ¬åªéœ€è¦çœ‹çœ‹äº‹ä»¶å¾ªç¯çš„é¢˜ç›® | å‰ç«¯å­¦ä¹ @å°æµªåŠªåŠ›å­¦å‰ç«¯</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="å°æµªåŠªåŠ›å­¦å‰ç«¯ä¹‹æ—…">
    
    <link rel="preload" href="/Front-end-notes/assets/css/0.styles.102086c6.css" as="style"><link rel="preload" href="/Front-end-notes/assets/js/app.fce70604.js" as="script"><link rel="preload" href="/Front-end-notes/assets/js/3.b45189e7.js" as="script"><link rel="preload" href="/Front-end-notes/assets/js/1.62c193a0.js" as="script"><link rel="preload" href="/Front-end-notes/assets/js/40.969f7bb7.js" as="script"><link rel="prefetch" href="/Front-end-notes/assets/js/10.6cc78502.js"><link rel="prefetch" href="/Front-end-notes/assets/js/11.458a0b3d.js"><link rel="prefetch" href="/Front-end-notes/assets/js/12.95ba9ad9.js"><link rel="prefetch" href="/Front-end-notes/assets/js/13.3a02c30b.js"><link rel="prefetch" href="/Front-end-notes/assets/js/14.323ca1f4.js"><link rel="prefetch" href="/Front-end-notes/assets/js/15.6056f1f6.js"><link rel="prefetch" href="/Front-end-notes/assets/js/16.fc2feb67.js"><link rel="prefetch" href="/Front-end-notes/assets/js/17.ceaa1fd9.js"><link rel="prefetch" href="/Front-end-notes/assets/js/18.2d178623.js"><link rel="prefetch" href="/Front-end-notes/assets/js/19.b128f84d.js"><link rel="prefetch" href="/Front-end-notes/assets/js/20.0dc80967.js"><link rel="prefetch" href="/Front-end-notes/assets/js/21.be333256.js"><link rel="prefetch" href="/Front-end-notes/assets/js/22.d4b56230.js"><link rel="prefetch" href="/Front-end-notes/assets/js/23.aadd69ba.js"><link rel="prefetch" href="/Front-end-notes/assets/js/24.b819f4f9.js"><link rel="prefetch" href="/Front-end-notes/assets/js/25.6ac4bf48.js"><link rel="prefetch" href="/Front-end-notes/assets/js/26.52426858.js"><link rel="prefetch" href="/Front-end-notes/assets/js/27.f9af1eb3.js"><link rel="prefetch" href="/Front-end-notes/assets/js/28.ba4a0075.js"><link rel="prefetch" href="/Front-end-notes/assets/js/29.9c07955a.js"><link rel="prefetch" href="/Front-end-notes/assets/js/30.042e1c76.js"><link rel="prefetch" href="/Front-end-notes/assets/js/31.f58210b8.js"><link rel="prefetch" href="/Front-end-notes/assets/js/32.391c87a8.js"><link rel="prefetch" href="/Front-end-notes/assets/js/33.31ce1fc3.js"><link rel="prefetch" href="/Front-end-notes/assets/js/34.158603c0.js"><link rel="prefetch" href="/Front-end-notes/assets/js/35.2b343ddd.js"><link rel="prefetch" href="/Front-end-notes/assets/js/36.bc27222b.js"><link rel="prefetch" href="/Front-end-notes/assets/js/37.6e382158.js"><link rel="prefetch" href="/Front-end-notes/assets/js/38.69e339d8.js"><link rel="prefetch" href="/Front-end-notes/assets/js/39.f62448eb.js"><link rel="prefetch" href="/Front-end-notes/assets/js/4.769817e4.js"><link rel="prefetch" href="/Front-end-notes/assets/js/41.bba09bbb.js"><link rel="prefetch" href="/Front-end-notes/assets/js/42.2a5c9752.js"><link rel="prefetch" href="/Front-end-notes/assets/js/43.6c64a210.js"><link rel="prefetch" href="/Front-end-notes/assets/js/44.5bf91ad0.js"><link rel="prefetch" href="/Front-end-notes/assets/js/45.ca36ffa1.js"><link rel="prefetch" href="/Front-end-notes/assets/js/46.a38594e4.js"><link rel="prefetch" href="/Front-end-notes/assets/js/47.f7d12bf2.js"><link rel="prefetch" href="/Front-end-notes/assets/js/48.eb22b960.js"><link rel="prefetch" href="/Front-end-notes/assets/js/49.62394b38.js"><link rel="prefetch" href="/Front-end-notes/assets/js/5.c118bdde.js"><link rel="prefetch" href="/Front-end-notes/assets/js/50.8e98f317.js"><link rel="prefetch" href="/Front-end-notes/assets/js/51.dc86cabf.js"><link rel="prefetch" href="/Front-end-notes/assets/js/52.cb455536.js"><link rel="prefetch" href="/Front-end-notes/assets/js/6.484272e5.js"><link rel="prefetch" href="/Front-end-notes/assets/js/7.76f986b7.js"><link rel="prefetch" href="/Front-end-notes/assets/js/8.6a620588.js"><link rel="prefetch" href="/Front-end-notes/assets/js/9.39185153.js">
    <link rel="stylesheet" href="/Front-end-notes/assets/css/0.styles.102086c6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-1aefc0b4><div data-v-1aefc0b4><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-1aefc0b4 data-v-1aefc0b4><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-25ba6db2 data-v-1aefc0b4 data-v-1aefc0b4><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>å‰ç«¯å­¦ä¹ @å°æµªåŠªåŠ›å­¦å‰ç«¯</h3> <p class="description" data-v-25ba6db2 data-v-25ba6db2>å°æµªåŠªåŠ›å­¦å‰ç«¯ä¹‹æ—…</p> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><!---->
          Â Â 
          <!---->
          2022
        </a></span></div></div> <div class="hide" data-v-1aefc0b4><header class="navbar" data-v-1aefc0b4><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Front-end-notes/" class="home-link router-link-active"><!----> <span class="site-name">å‰ç«¯å­¦ä¹ @å°æµªåŠªåŠ›å­¦å‰ç«¯</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Front-end-notes/" class="nav-link"><i class="undefined"></i>
  é¦–é¡µ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      å°æµªå‰ç«¯åšå®¢
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/LianTianNo1" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/4098610193243789/posts" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  æ˜é‡‘
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-1aefc0b4></div> <aside class="sidebar" data-v-1aefc0b4><div class="personal-info-wrapper" data-v-39576ba9 data-v-1aefc0b4><!----> <!----> <div class="num" data-v-39576ba9><div data-v-39576ba9><h3 data-v-39576ba9>23</h3> <h6 data-v-39576ba9>æ–‡ç« </h6></div> <div data-v-39576ba9><h3 data-v-39576ba9>0</h3> <h6 data-v-39576ba9>æ ‡ç­¾</h6></div></div> <ul class="social-links" data-v-39576ba9></ul> <hr data-v-39576ba9></div> <nav class="nav-links"><div class="nav-item"><a href="/Front-end-notes/" class="nav-link"><i class="undefined"></i>
  é¦–é¡µ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      å°æµªå‰ç«¯åšå®¢
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/LianTianNo1" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/4098610193243789/posts" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  æ˜é‡‘
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/Front-end-notes/" class="sidebar-heading clickable router-link-active"><span>ğŸ¥æ¬¢è¿ğŸ¥</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/Front-end-notes/" aria-current="page" class="sidebar-link">ğŸ¥šå‰è¨€</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/Front-end-notes/algorithm/start" class="sidebar-heading clickable"><span>ç®—æ³•å­¦ä¹ </span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/Front-end-notes/algorithm/start.html" class="sidebar-link">ğŸ¦å¼€å§‹</a></li><li><a href="/Front-end-notes/algorithm/struct.html" class="sidebar-link">ğŸ‡åŸºç¡€æ•°æ®ç»“æ„</a></li><li><a href="/Front-end-notes/algorithm/algorithm.html" class="sidebar-link">ğŸ¦€è§£é¢˜æŠ€å·§ä¸å¿…ä¼šç®—æ³•</a></li><li><a href="/Front-end-notes/algorithm/leetcode.html" class="sidebar-link">ğŸˆleetCodeå¿…åˆ·é¢˜</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/Front-end-notes/handbook/Webbase" class="sidebar-heading clickable"><span>åŸºç¡€å­¦ä¹ </span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/Front-end-notes/handbook/Webbase.html" class="sidebar-link">ğŸ°WebåŸºç¡€</a></li><li><a href="/Front-end-notes/handbook/ComputerNetwork.html" class="sidebar-link">ğŸ£è®¡ç®—æœºç½‘ç»œ</a></li><li><a href="/Front-end-notes/handbook/StudyGit.html" class="sidebar-link">ğŸå¿…ä¼šçš„Git</a></li><li><a href="/Front-end-notes/handbook/LearningAlgorithm.html" class="sidebar-link">ğŸ å°æµªå­¦ä¹ ç®—æ³•ç¬”è®°</a></li><li><a href="/Front-end-notes/handbook/DoExercises.html" class="sidebar-link">ğŸ‹leetCodeåˆ·é¢˜1</a></li><li><a href="/Front-end-notes/handbook/DoExercises1.html" class="sidebar-link">ğŸ‹leetCodeåˆ·é¢˜2</a></li><li><a href="/Front-end-notes/handbook/ReviewNodeJS.html" class="sidebar-link">â²å°æµªå¤ä¹ NodeJSæ¡†æ¶</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/Front-end-notes/collection/1" class="sidebar-heading clickable"><span>æ”¶è—çš„å…¶ä»–å¤§ä½¬æ–‡ç« </span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/Front-end-notes/collection/1.html" class="sidebar-link">ğŸ‡å‰ç«¯é¢è¯•å¤ä¹ è®¡åˆ’</a></li><li><a href="/Front-end-notes/collection/2.html" class="sidebar-link">ğŸ†æœ€å…¨çš„æ‰‹å†™JSé¢è¯•é¢˜</a></li><li><a href="/Front-end-notes/collection/3.html" class="sidebar-link">ğŸ²æœ€å…¨çš„TypeScriptå­¦ä¹ æŒ‡å—</a></li><li><a href="/Front-end-notes/collection/4.html" class="sidebar-link">âš¾å‰ç«¯ç¡¬æ ¸é¢è¯•ä¸“é¢˜</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/Front-end-notes/beautyAlgorithms/1" class="sidebar-heading clickable"><span>çŒ«å“¥çš„æŠ€æœ¯åšå®¢ï¼šJavaScript æ•°æ®ç»“æ„ä¸ç®—æ³•ä¹‹ç¾</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/Front-end-notes/beautyAlgorithms/1.html" class="sidebar-link">âš¡æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦</a></li><li><a href="/Front-end-notes/beautyAlgorithms/2.html" class="sidebar-link">âš¡çº¿æ€§è¡¨ï¼ˆæ•°ç»„ã€é˜Ÿåˆ—ã€æ ˆã€é“¾è¡¨ï¼‰</a></li><li><a href="/Front-end-notes/beautyAlgorithms/3.html" class="sidebar-link">âš¡å®ç°ä¸€ä¸ªå‰ç«¯è·¯ç”±ï¼Œå¦‚ä½•å®ç°æµè§ˆå™¨çš„å‰è¿›ä¸åé€€ ï¼Ÿ</a></li><li><a href="/Front-end-notes/beautyAlgorithms/4.html" class="sidebar-link">âš¡æ ˆå†…å­˜ä¸å †å†…å­˜ ã€æµ…æ‹·è´ä¸æ·±æ‹·è´</a></li><li><a href="/Front-end-notes/beautyAlgorithms/5.html" class="sidebar-link">âš¡é€’å½’</a></li><li><a href="/Front-end-notes/beautyAlgorithms/6.html" class="sidebar-link">âš¡éçº¿æ€§è¡¨ï¼ˆæ ‘ã€å †ï¼‰</a></li><li><a href="/Front-end-notes/beautyAlgorithms/7.html" class="sidebar-link">âš¡å†’æ³¡æ’åºã€é€‰æ‹©æ’åºã€æ’å…¥æ’åº</a></li><li><a href="/Front-end-notes/beautyAlgorithms/8.html" class="sidebar-link">âš¡å½’å¹¶æ’åºã€å¿«é€Ÿæ’åºã€å¸Œå°”æ’åºã€å †æ’åº</a></li><li><a href="/Front-end-notes/beautyAlgorithms/9.html" class="sidebar-link">âš¡è®¡æ•°æ’åºã€æ¡¶æ’åºã€åŸºæ•°æ’åº</a></li><li><a href="/Front-end-notes/beautyAlgorithms/10.html" class="sidebar-link">âš¡åå¤§ç»å…¸æ’åºç®—æ³•æ±‡æ€»</a></li><li><a href="/Front-end-notes/beautyAlgorithms/11.html" class="sidebar-link">âš¡GitHub ä¸Š 170K+ Star çš„å‰ç«¯å­¦ä¹ çš„æ•°æ®ç»“æ„ä¸ç®—æ³•é¡¹ç›®</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/Front-end-notes/studyeveryday/study2022-1" class="sidebar-heading clickable"><span>ç¾¤å‹æ¯æ—¥ä¸€é¢˜</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/Front-end-notes/studyeveryday/study2022-1.html" class="sidebar-link">ğŸš€2022å¹´1æœˆ</a></li><li><a href="/Front-end-notes/studyeveryday/study2022-2.html" class="sidebar-link">ğŸ™€2022å¹´2æœˆ</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/Front-end-notes/offerShare/1" class="sidebar-heading clickable open"><span>ä¸‰ä½å¤§ä½¬æœ€å¼ºé¢è¯•èµ„æº</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/Front-end-notes/offerShare/1.html" class="sidebar-link">ğŸ“™1 å‰ç«¯é¢è¯•å‡†å¤‡</a></li><li><a href="/Front-end-notes/offerShare/2.html" class="sidebar-link">ğŸ”°2 ç¨‹åºå‘˜é¢è¯•è½¯æŠ€èƒ½</a></li><li><a href="/Front-end-notes/offerShare/3.html" class="sidebar-link">ğŸ”±3 offeræ”¶å‰²æœºä¹‹HTMLç¯‡</a></li><li><a href="/Front-end-notes/offerShare/4.html" class="sidebar-link">ğŸ”®4 offeræ”¶å‰²æœºä¹‹CSSç¯‡</a></li><li><a href="/Front-end-notes/offerShare/5.html" class="sidebar-link">ğŸ”¥5 offeræ”¶å‰²æœºä¹‹JavaScriptç¯‡</a></li><li><a href="/Front-end-notes/offerShare/6.html" class="sidebar-link">ğŸ””6 offeræ”¶å‰²æœºä¹‹æ€§èƒ½ä¼˜åŒ–ç¯‡</a></li><li><a href="/Front-end-notes/offerShare/7.html" class="sidebar-link">ğŸ”7 offeræ”¶å‰²æœºä¹‹å‰ç«¯å·¥ç¨‹åŒ–ç¯‡</a></li><li><a href="/Front-end-notes/offerShare/8.html" class="sidebar-link">ğŸ”‘8 offeræ”¶å‰²æœºä¹‹è®¡ç®—æœºç½‘ç»œç¯‡</a></li><li><a href="/Front-end-notes/offerShare/9.html" class="sidebar-link">ğŸ”“9 offeræ”¶å‰²æœºä¹‹æµè§ˆå™¨åŸç†ç¯‡</a></li><li><a href="/Front-end-notes/offerShare/10.html" class="sidebar-link">ğŸ“»10 offeræ”¶å‰²æœºä¹‹æ‰‹å†™ä»£ç ç¯‡</a></li><li><a href="/Front-end-notes/offerShare/11.html" aria-current="page" class="active sidebar-link">ğŸ“·11 offeræ”¶å‰²æœºä¹‹ä»£ç è¾“å‡ºç¯‡</a></li><li><a href="/Front-end-notes/offerShare/12.html" class="sidebar-link">ğŸ“¦12 LeetCodeé¢è¯•å¸¸è€ƒé¢˜ç›®</a></li><li><a href="/Front-end-notes/offerShare/13.html" class="sidebar-link">ğŸ“›13 offeræ”¶å‰²æœºä¹‹Vueç¯‡</a></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-25ba6db2 data-v-1aefc0b4><h3 class="title" data-v-25ba6db2 data-v-25ba6db2></h3> <!----> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><!---->
          Â Â 
          <!---->
          2022
        </a></span></div></div> <div data-v-1aefc0b4><main class="page"><section><div class="page-title"><h1 class="title">å»ºè®®æœ‰æ—¶é—´æˆ–è€…æ ¡æ‹›è¦åšç¬”è¯•çš„åŒå­¦çœ‹ä¸‹ ç¤¾æ‹›åŸºæœ¬åªéœ€è¦çœ‹çœ‹äº‹ä»¶å¾ªç¯çš„é¢˜ç›®</h1> <div data-v-f875f3fc><!----> <!----> <!----> <!----></div></div> <div class="theme-reco-content content__default"><h2 id="å»ºè®®æœ‰æ—¶é—´æˆ–è€…æ ¡æ‹›è¦åšç¬”è¯•çš„åŒå­¦çœ‹ä¸‹-ç¤¾æ‹›åŸºæœ¬åªéœ€è¦çœ‹çœ‹äº‹ä»¶å¾ªç¯çš„é¢˜ç›®"><a href="#å»ºè®®æœ‰æ—¶é—´æˆ–è€…æ ¡æ‹›è¦åšç¬”è¯•çš„åŒå­¦çœ‹ä¸‹-ç¤¾æ‹›åŸºæœ¬åªéœ€è¦çœ‹çœ‹äº‹ä»¶å¾ªç¯çš„é¢˜ç›®" class="header-anchor">#</a> å»ºè®®æœ‰æ—¶é—´æˆ–è€…æ ¡æ‹›è¦åšç¬”è¯•çš„åŒå­¦çœ‹ä¸‹ ç¤¾æ‹›åŸºæœ¬åªéœ€è¦çœ‹çœ‹äº‹ä»¶å¾ªç¯çš„é¢˜ç›®</h2> <h3 id="å‰è¨€"><a href="#å‰è¨€" class="header-anchor">#</a> å‰è¨€ï¼š</h3> <p><strong>ä»£ç è¾“å‡ºç»“æœ</strong>ä¹Ÿæ˜¯é¢è¯•ä¸­å¸¸è€ƒçš„é¢˜ç›®ï¼Œä¸€æ®µä»£ç ä¸­å¯èƒ½æ¶‰åŠåˆ°å¾ˆå¤šçš„çŸ¥è¯†ç‚¹ï¼Œè¿™å°±è€ƒå¯Ÿåˆ°äº†åº”è˜è€…çš„åŸºç¡€èƒ½åŠ›ã€‚åœ¨å‰ç«¯é¢è¯•ä¸­ï¼Œå¸¸è€ƒçš„ä»£ç è¾“å‡ºé—®é¢˜ä¸»è¦æ¶‰åŠåˆ°ä»¥ä¸‹çŸ¥è¯†ç‚¹ï¼š<strong>å¼‚æ­¥ç¼–ç¨‹ã€äº‹ä»¶å¾ªç¯ã€thisæŒ‡å‘ã€ä½œç”¨åŸŸã€å˜é‡æå‡ã€é—­åŒ…ã€åŸå‹ã€ç»§æ‰¿</strong>ç­‰ï¼Œè¿™äº›çŸ¥è¯†ç‚¹å¾€å¾€ä¸æ˜¯å•ç‹¬å‡ºç°çš„ï¼Œè€Œæ˜¯åœ¨åŒä¸€æ®µä»£ç ä¸­åŒ…å«å¤šä¸ªçŸ¥è¯†ç‚¹ã€‚æ‰€ä»¥ï¼Œç¬”è€…å°†è¿™äº›é—®é¢˜å¤§è‡´åˆ†ä¸ºå››ç±»è¿›è¡Œè®¨è®ºã€‚è¿™é‡Œä¸ä¼šç³»ç»Ÿçš„é˜è¿°åŸºç¡€çŸ¥è¯†ï¼Œè€Œæ˜¯é€šè¿‡é¢è¯•ä¾‹é¢˜çš„å½¢å¼ï¼Œæ¥è®²è¿°æ¯ä¸ªé¢˜ç›®çš„çŸ¥è¯†ç‚¹ä»¥åŠä»£ç çš„æ‰§è¡Œè¿‡ç¨‹ã€‚å¦‚æœä¼šäº†è¿™äº›ä¾‹é¢˜ï¼Œåœ¨å‰ç«¯é¢è¯•ä¸­å¤šæ•°ä»£ç è¾“å‡ºé—®é¢˜å°±å¯ä»¥è½»è€Œæ˜“ä¸¾çš„è§£å†³äº†ã€‚</p> <p>**æ³¨ï¼š**æœ¬æ–‡ä¸­æ‰€æœ‰ä¾‹é¢˜æ”¶é›†è‡ªç‰›å®¢ç½‘é¢ç»ã€ç½‘ç»œåšæ–‡ç­‰ï¼Œå¦‚æœä¾µæƒï¼Œè¯·è”ç³»åˆ é™¤ï¼</p> <h2 id="ä¸€ã€å¼‚æ­¥-äº‹ä»¶å¾ªç¯"><a href="#ä¸€ã€å¼‚æ­¥-äº‹ä»¶å¾ªç¯" class="header-anchor">#</a> ä¸€ã€å¼‚æ­¥&amp;äº‹ä»¶å¾ªç¯</h2> <h3 id="_1-ä»£ç è¾“å‡ºç»“æœ"><a href="#_1-ä»£ç è¾“å‡ºç»“æœ" class="header-anchor">#</a> 1. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token number">1</span> 
<span class="token number">2</span> 
<span class="token number">4</span>
</code></pre></div><p>promise.then æ˜¯å¾®ä»»åŠ¡ï¼Œå®ƒä¼šåœ¨æ‰€æœ‰çš„å®ä»»åŠ¡æ‰§è¡Œå®Œä¹‹åæ‰ä¼šæ‰§è¡Œï¼ŒåŒæ—¶éœ€è¦promiseå†…éƒ¨çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–ï¼Œå› ä¸ºè¿™é‡Œå†…éƒ¨æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œä¸€ç›´å¤„äºpendingçŠ¶æ€ï¼Œæ‰€ä»¥ä¸è¾“å‡º3ã€‚</p> <h3 id="_2-ä»£ç è¾“å‡ºç»“æœ"><a href="#_2-ä»£ç è¾“å‡ºç»“æœ" class="header-anchor">#</a> 2. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> promise1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'promise1'</span><span class="token punctuation">)</span>
  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'resolve1'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> promise2 <span class="token operator">=</span> promise1<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">,</span> promise1<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">,</span> promise2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>promise1
<span class="token number">1</span> Promise<span class="token punctuation">{</span><span class="token operator">&lt;</span>resolved<span class="token operator">&gt;</span><span class="token operator">:</span> resolve1<span class="token punctuation">}</span>
<span class="token number">2</span> Promise<span class="token punctuation">{</span><span class="token operator">&lt;</span>pending<span class="token operator">&gt;</span><span class="token punctuation">}</span>
resolve1
</code></pre></div><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç›´æ¥æ‰“å°promise1ï¼Œä¼šæ‰“å°å‡ºå®ƒçš„çŠ¶æ€å€¼å’Œå‚æ•°ã€‚</p> <p>ä»£ç æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹ï¼š</p> <ol><li>scriptæ˜¯ä¸€ä¸ªå®ä»»åŠ¡ï¼ŒæŒ‰ç…§é¡ºåºæ‰§è¡Œè¿™äº›ä»£ç ï¼›</li> <li>é¦–å…ˆè¿›å…¥Promiseï¼Œæ‰§è¡Œè¯¥æ„é€ å‡½æ•°ä¸­çš„ä»£ç ï¼Œæ‰“å°<code>promise1</code>ï¼›</li> <li>ç¢°åˆ°<code>resolve</code>å‡½æ•°, å°†<code>promise1</code>çš„çŠ¶æ€æ”¹å˜ä¸º<code>resolved</code>, å¹¶å°†ç»“æœä¿å­˜ä¸‹æ¥ï¼›</li> <li>ç¢°åˆ°<code>promise1.then</code>è¿™ä¸ªå¾®ä»»åŠ¡ï¼Œå°†å®ƒæ”¾å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼›</li> <li><code>promise2</code>æ˜¯ä¸€ä¸ªæ–°çš„çŠ¶æ€ä¸º<code>pending</code>çš„<code>Promise</code>ï¼›</li> <li>æ‰§è¡ŒåŒæ­¥ä»£ç 1ï¼Œ åŒæ—¶æ‰“å°å‡º<code>promise1</code>çš„çŠ¶æ€æ˜¯<code>resolved</code>ï¼›</li> <li>æ‰§è¡ŒåŒæ­¥ä»£ç 2ï¼ŒåŒæ—¶æ‰“å°å‡º<code>promise2</code>çš„çŠ¶æ€æ˜¯<code>pending</code>ï¼›</li> <li>å®ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼ŒæŸ¥æ‰¾å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå‘ç°<code>promise1.then</code>è¿™ä¸ªå¾®ä»»åŠ¡ä¸”çŠ¶æ€ä¸º<code>resolved</code>ï¼Œæ‰§è¡Œå®ƒã€‚</li></ol> <h3 id="_3-ä»£ç è¾“å‡ºç»“æœ"><a href="#_3-ä»£ç è¾“å‡ºç»“æœ" class="header-anchor">#</a> 3. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;timerStart&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&quot;success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;timerEnd&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token number">1</span>
<span class="token number">2</span>
<span class="token number">4</span>
timerStart
timerEnd
success
</code></pre></div><p>ä»£ç æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹ï¼š</p> <ul><li>é¦–å…ˆé‡åˆ°Promiseæ„é€ å‡½æ•°ï¼Œä¼šå…ˆæ‰§è¡Œé‡Œé¢çš„å†…å®¹ï¼Œæ‰“å°<code>1</code>ï¼›</li> <li>é‡åˆ°å®šæ—¶å™¨<code>steTimeout</code>ï¼Œå®ƒæ˜¯ä¸€ä¸ªå®ä»»åŠ¡ï¼Œæ”¾å…¥å®ä»»åŠ¡é˜Ÿåˆ—ï¼›</li> <li>ç»§ç»­å‘ä¸‹æ‰§è¡Œï¼Œæ‰“å°å‡º2ï¼›</li> <li>ç”±äº<code>Promise</code>çš„çŠ¶æ€æ­¤æ—¶è¿˜æ˜¯<code>pending</code>ï¼Œæ‰€ä»¥<code>promise.then</code>å…ˆä¸æ‰§è¡Œï¼›</li> <li>ç»§ç»­æ‰§è¡Œä¸‹é¢çš„åŒæ­¥ä»»åŠ¡ï¼Œæ‰“å°å‡º4ï¼›</li> <li>æ­¤æ—¶å¾®ä»»åŠ¡é˜Ÿåˆ—æ²¡æœ‰ä»»åŠ¡ï¼Œç»§ç»­æ‰§è¡Œä¸‹ä¸€è½®å®ä»»åŠ¡ï¼Œæ‰§è¡Œ<code>steTimeout</code>ï¼›</li> <li>é¦–å…ˆæ‰§è¡Œ<code>timerStart</code>ï¼Œç„¶åé‡åˆ°äº†<code>resolve</code>ï¼Œå°†<code>promise</code>çš„çŠ¶æ€æ”¹ä¸º<code>resolved</code>ä¸”ä¿å­˜ç»“æœå¹¶å°†ä¹‹å‰çš„<code>promise.then</code>æ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå†æ‰§è¡Œ<code>timerEnd</code>ï¼›</li> <li>æ‰§è¡Œå®Œè¿™ä¸ªå®ä»»åŠ¡ï¼Œå°±å»æ‰§è¡Œå¾®ä»»åŠ¡<code>promise.then</code>ï¼Œæ‰“å°å‡º<code>resolve</code>çš„ç»“æœã€‚</li></ul> <h3 id="_4-ä»£ç è¾“å‡ºç»“æœ"><a href="#_4-ä»£ç è¾“å‡ºç»“æœ" class="header-anchor">#</a> 4. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code>Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'promise1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> timer2 <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'timer2'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> timer1 <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'timer1'</span><span class="token punctuation">)</span>
  Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'promise2'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'start'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>start
promise1
timer1
promise2
timer2
</code></pre></div><p>ä»£ç æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹ï¼š</p> <ol><li>é¦–å…ˆï¼Œ<code>Promise.resolve().then</code>æ˜¯ä¸€ä¸ªå¾®ä»»åŠ¡ï¼ŒåŠ å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—</li> <li>æ‰§è¡Œtimer1ï¼Œå®ƒæ˜¯ä¸€ä¸ªå®ä»»åŠ¡ï¼ŒåŠ å…¥å®ä»»åŠ¡é˜Ÿåˆ—</li> <li>ç»§ç»­æ‰§è¡Œä¸‹é¢çš„åŒæ­¥ä»£ç ï¼Œæ‰“å°å‡º<code>start</code></li> <li>è¿™æ ·ç¬¬ä¸€è½®å®ä»»åŠ¡å°±æ‰§è¡Œå®Œäº†ï¼Œå¼€å§‹æ‰§è¡Œå¾®ä»»åŠ¡<code>Promise.resolve().then</code>ï¼Œæ‰“å°å‡º<code>promise1</code></li> <li>é‡åˆ°<code>timer2</code>ï¼Œå®ƒæ˜¯ä¸€ä¸ªå®ä»»åŠ¡ï¼Œå°†å…¶åŠ å…¥å®ä»»åŠ¡é˜Ÿåˆ—ï¼Œæ­¤æ—¶å®ä»»åŠ¡é˜Ÿåˆ—æœ‰ä¸¤ä¸ªä»»åŠ¡ï¼Œåˆ†åˆ«æ˜¯<code>timer1</code>ã€<code>timer2</code>ï¼›</li> <li>è¿™æ ·ç¬¬ä¸€è½®å¾®ä»»åŠ¡å°±æ‰§è¡Œå®Œäº†ï¼Œå¼€å§‹æ‰§è¡Œç¬¬äºŒè½®å®ä»»åŠ¡ï¼Œé¦–å…ˆæ‰§è¡Œå®šæ—¶å™¨<code>timer1</code>ï¼Œæ‰“å°<code>timer1</code>ï¼›</li> <li>é‡åˆ°<code>Promise.resolve().then</code>ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¾®ä»»åŠ¡ï¼ŒåŠ å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—</li> <li>å¼€å§‹æ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ï¼Œæ‰“å°<code>promise2</code>ï¼›</li> <li>æœ€åæ‰§è¡Œå®ä»»åŠ¡<code>timer2</code>å®šæ—¶å™¨ï¼Œæ‰“å°å‡º<code>timer2</code>ï¼›</li></ol> <h3 id="_5-ä»£ç è¾“å‡ºç»“æœ"><a href="#_5-ä»£ç è¾“å‡ºç»“æœ" class="header-anchor">#</a> 5. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'success1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'success2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'then:'</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'catch:'</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>thenï¼šsuccess1
</code></pre></div><p>è¿™ä¸ªé¢˜ç›®è€ƒå¯Ÿçš„å°±æ˜¯<strong>Promiseçš„çŠ¶æ€åœ¨å‘ç”Ÿå˜åŒ–ä¹‹åï¼Œå°±ä¸ä¼šå†å‘ç”Ÿå˜åŒ–</strong>ã€‚å¼€å§‹çŠ¶æ€ç”±<code>pending</code>å˜ä¸º<code>resolve</code>ï¼Œè¯´æ˜å·²ç»å˜ä¸ºå·²å®ŒæˆçŠ¶æ€ï¼Œä¸‹é¢çš„ä¸¤ä¸ªçŠ¶æ€çš„å°±ä¸ä¼šå†æ‰§è¡Œï¼ŒåŒæ—¶ä¸‹é¢çš„catchä¹Ÿä¸ä¼šæ•è·åˆ°é”™è¯¯ã€‚</p> <h3 id="_6-ä»£ç è¾“å‡ºç»“æœ"><a href="#_6-ä»£ç è¾“å‡ºç»“æœ" class="header-anchor">#</a> 6. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code>Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span>
</code></pre></div><p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token number">1</span>
Promise <span class="token punctuation">{</span><span class="token operator">&lt;</span>fulfilled<span class="token operator">&gt;</span><span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">}</span>
</code></pre></div><p>Promise.resolveæ–¹æ³•çš„å‚æ•°å¦‚æœæ˜¯ä¸€ä¸ªåŸå§‹å€¼ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªä¸å…·æœ‰thenæ–¹æ³•çš„å¯¹è±¡ï¼Œåˆ™Promise.resolveæ–¹æ³•è¿”å›ä¸€ä¸ªæ–°çš„Promiseå¯¹è±¡ï¼ŒçŠ¶æ€ä¸ºresolvedï¼ŒPromise.resolveæ–¹æ³•çš„å‚æ•°ï¼Œä¼šåŒæ—¶ä¼ ç»™å›è°ƒå‡½æ•°ã€‚</p> <p>thenæ–¹æ³•æ¥å—çš„å‚æ•°æ˜¯å‡½æ•°ï¼Œè€Œå¦‚æœä¼ é€’çš„å¹¶éæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒå®é™…ä¸Šä¼šå°†å…¶è§£é‡Šä¸ºthen(null)ï¼Œè¿™å°±ä¼šå¯¼è‡´å‰ä¸€ä¸ªPromiseçš„ç»“æœä¼šä¼ é€’ä¸‹é¢ã€‚</p> <h3 id="_7-ä»£ç è¾“å‡ºç»“æœ"><a href="#_7-ä»£ç è¾“å‡ºç»“æœ" class="header-anchor">#</a> 7. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> promise1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'success'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> promise2 <span class="token operator">=</span> promise1<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'error!!!'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'promise1'</span><span class="token punctuation">,</span> promise1<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'promise2'</span><span class="token punctuation">,</span> promise2<span class="token punctuation">)</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'promise1'</span><span class="token punctuation">,</span> promise1<span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'promise2'</span><span class="token punctuation">,</span> promise2<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span>
</code></pre></div><p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>promise1 Promise <span class="token punctuation">{</span><span class="token operator">&lt;</span>pending<span class="token operator">&gt;</span><span class="token punctuation">}</span>
promise2 Promise <span class="token punctuation">{</span><span class="token operator">&lt;</span>pending<span class="token operator">&gt;</span><span class="token punctuation">}</span>

<span class="token function">Uncaught</span> <span class="token punctuation">(</span><span class="token keyword">in</span> promise<span class="token punctuation">)</span> Error<span class="token operator">:</span> error<span class="token operator">!</span><span class="token operator">!</span><span class="token operator">!</span>
promise1 Promise <span class="token punctuation">{</span><span class="token operator">&lt;</span>fulfilled<span class="token operator">&gt;</span><span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">}</span>
promise2 Promise <span class="token punctuation">{</span><span class="token operator">&lt;</span>rejected<span class="token operator">&gt;</span><span class="token operator">:</span> Error<span class="token operator">:</span> error<span class="token operator">!</span><span class="token operator">!</span><span class="token punctuation">}</span>
</code></pre></div><h3 id="_8-ä»£ç è¾“å‡ºç»“æœ"><a href="#_8-ä»£ç è¾“å‡ºç»“æœ" class="header-anchor">#</a> 8. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code>Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">3</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token number">1</span>   
<span class="token number">2</span>
</code></pre></div><p>Promiseæ˜¯å¯ä»¥é“¾å¼è°ƒç”¨çš„ï¼Œç”±äºæ¯æ¬¡è°ƒç”¨ <code>.then</code> æˆ–è€… <code>.catch</code> éƒ½ä¼šè¿”å›ä¸€ä¸ªæ–°çš„ promiseï¼Œä»è€Œå®ç°äº†é“¾å¼è°ƒç”¨, å®ƒå¹¶ä¸åƒä¸€èˆ¬ä»»åŠ¡çš„é“¾å¼è°ƒç”¨ä¸€æ ·return thisã€‚</p> <p>ä¸Šé¢çš„è¾“å‡ºç»“æœä¹‹æ‰€ä»¥ä¾æ¬¡æ‰“å°å‡º1å’Œ2ï¼Œæ˜¯å› ä¸º<code>resolve(1)</code>ä¹‹åèµ°çš„æ˜¯ç¬¬ä¸€ä¸ªthenæ–¹æ³•ï¼Œå¹¶æ²¡æœ‰è¿›catché‡Œï¼Œæ‰€ä»¥ç¬¬äºŒä¸ªthenä¸­çš„reså¾—åˆ°çš„å®é™…ä¸Šæ˜¯ç¬¬ä¸€ä¸ªthençš„è¿”å›å€¼ã€‚å¹¶ä¸”return 2ä¼šè¢«åŒ…è£…æˆ<code>resolve(2)</code>ï¼Œè¢«æœ€åçš„thenæ‰“å°è¾“å‡º2ã€‚</p> <h3 id="_9-ä»£ç è¾“å‡ºç»“æœ"><a href="#_9-ä»£ç è¾“å‡ºç»“æœ" class="header-anchor">#</a> 9. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code>Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'error!!!'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;then: &quot;</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;catch: &quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">&quot;then: &quot;</span> <span class="token string">&quot;Error: error!!!&quot;</span>
</code></pre></div><p>è¿”å›ä»»æ„ä¸€ä¸ªé promise çš„å€¼éƒ½ä¼šè¢«åŒ…è£¹æˆ promise å¯¹è±¡ï¼Œå› æ­¤è¿™é‡Œçš„<code>return new Error('error!!!')</code>ä¹Ÿè¢«åŒ…è£¹æˆäº†<code>return Promise.resolve(new Error('error!!!'))</code>ï¼Œå› æ­¤å®ƒä¼šè¢«thenæ•è·è€Œä¸æ˜¯catchã€‚</p> <h3 id="_10-ä»£ç è¾“å‡ºç»“æœ"><a href="#_10-ä»£ç è¾“å‡ºç»“æœ" class="header-anchor">#</a> 10. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> promise <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> promise<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
promise<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>err<span class="token punctuation">)</span>
</code></pre></div><p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">Uncaught</span> <span class="token punctuation">(</span><span class="token keyword">in</span> promise<span class="token punctuation">)</span> TypeError<span class="token operator">:</span> Chaining cycle detected <span class="token keyword">for</span> promise #<span class="token operator">&lt;</span>Promise<span class="token operator">&gt;</span>
</code></pre></div><p>è¿™é‡Œå…¶å®æ˜¯ä¸€ä¸ªå‘ï¼Œ<code>.then</code> æˆ– <code>.catch</code> è¿”å›çš„å€¼ä¸èƒ½æ˜¯ promise æœ¬èº«ï¼Œå¦åˆ™ä¼šé€ æˆæ­»å¾ªç¯ã€‚</p> <h3 id="_11-ä»£ç è¾“å‡ºç»“æœ"><a href="#_11-ä»£ç è¾“å‡ºç»“æœ" class="header-anchor">#</a> 11. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code>Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span>
</code></pre></div><p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p> <div class="language- extra-class"><pre class="language-text"><code>1
</code></pre></div><p>çœ‹åˆ°è¿™ä¸ªé¢˜ç›®ï¼Œå¥½å¤šçš„thenï¼Œå®é™…ä¸Šåªéœ€è¦è®°ä½ä¸€ä¸ªåŸåˆ™ï¼š<code>.then</code> æˆ–<code>.catch</code> çš„å‚æ•°æœŸæœ›æ˜¯å‡½æ•°ï¼Œä¼ å…¥éå‡½æ•°åˆ™ä¼šå‘ç”Ÿ<strong>å€¼é€ä¼ </strong>ã€‚</p> <p>ç¬¬ä¸€ä¸ªthenå’Œç¬¬äºŒä¸ªthenä¸­ä¼ å…¥çš„éƒ½ä¸æ˜¯å‡½æ•°ï¼Œä¸€ä¸ªæ˜¯æ•°å­—ï¼Œä¸€ä¸ªæ˜¯å¯¹è±¡ï¼Œå› æ­¤å‘ç”Ÿäº†é€ä¼ ï¼Œå°†<code>resolve(1)</code> çš„å€¼ç›´æ¥ä¼ åˆ°æœ€åä¸€ä¸ªthené‡Œï¼Œç›´æ¥æ‰“å°å‡º1ã€‚</p> <h3 id="_12-ä»£ç è¾“å‡ºç»“æœ"><a href="#_12-ä»£ç è¾“å‡ºç»“æœ" class="header-anchor">#</a> 12. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code>Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'err!!!'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'success'</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'catch'</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>error err<span class="token operator">!</span><span class="token operator">!</span><span class="token operator">!</span>
</code></pre></div><p>æˆ‘ä»¬çŸ¥é“ï¼Œ<code>.then</code>å‡½æ•°ä¸­çš„ä¸¤ä¸ªå‚æ•°ï¼š</p> <ul><li>ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç”¨æ¥å¤„ç†PromiseæˆåŠŸçš„å‡½æ•°</li> <li>ç¬¬äºŒä¸ªåˆ™æ˜¯å¤„ç†å¤±è´¥çš„å‡½æ•°</li></ul> <p>ä¹Ÿå°±æ˜¯è¯´<code>Promise.resolve('1')</code>çš„å€¼ä¼šè¿›å…¥æˆåŠŸçš„å‡½æ•°ï¼Œ<code>Promise.reject('2')</code>çš„å€¼ä¼šè¿›å…¥å¤±è´¥çš„å‡½æ•°ã€‚</p> <p>åœ¨è¿™é“é¢˜ä¸­ï¼Œé”™è¯¯ç›´æ¥è¢«<code>then</code>çš„ç¬¬äºŒä¸ªå‚æ•°æ•è·äº†ï¼Œæ‰€ä»¥å°±ä¸ä¼šè¢«<code>catch</code>æ•è·äº†ï¼Œè¾“å‡ºç»“æœä¸ºï¼š<code>error err!!!'</code></p> <p>ä½†æ˜¯ï¼Œå¦‚æœæ˜¯åƒä¸‹é¢è¿™æ ·ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">success</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'error!!!'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token function">fail1</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'fail1'</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">fail2</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'fail2'</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>åœ¨<code>then</code>çš„ç¬¬ä¸€å‚æ•°ä¸­æŠ›å‡ºäº†é”™è¯¯ï¼Œé‚£ä¹ˆä»–å°±ä¸ä¼šè¢«ç¬¬äºŒä¸ªå‚æ•°ä¸æ´»äº†ï¼Œè€Œæ˜¯è¢«åé¢çš„<code>catch</code>æ•è·åˆ°ã€‚</p> <h3 id="_13-ä»£ç è¾“å‡ºç»“æœ"><a href="#_13-ä»£ç è¾“å‡ºç»“æœ" class="header-anchor">#</a> 13. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code>Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">finally</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'finally'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">finally</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'finally2'</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token string">'æˆ‘æ˜¯finally2è¿”å›çš„å€¼'</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'finally2åé¢çš„thenå‡½æ•°'</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token number">1</span>
finally2
finally
finally2åé¢çš„thenå‡½æ•° <span class="token number">2</span>
</code></pre></div><p><code>.finally()</code>ä¸€èˆ¬ç”¨çš„å¾ˆå°‘ï¼Œåªè¦è®°ä½ä»¥ä¸‹å‡ ç‚¹å°±å¯ä»¥äº†ï¼š</p> <ul><li><code>.finally()</code>æ–¹æ³•ä¸ç®¡Promiseå¯¹è±¡æœ€åçš„çŠ¶æ€å¦‚ä½•éƒ½ä¼šæ‰§è¡Œ</li> <li><code>.finally()</code>æ–¹æ³•çš„å›è°ƒå‡½æ•°ä¸æ¥å—ä»»ä½•çš„å‚æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ä½ åœ¨<code>.finally()</code>å‡½æ•°ä¸­æ˜¯æ— æ³•çŸ¥é“Promiseæœ€ç»ˆçš„çŠ¶æ€æ˜¯<code>resolved</code>è¿˜æ˜¯<code>rejected</code>çš„</li> <li>å®ƒæœ€ç»ˆè¿”å›çš„é»˜è®¤ä¼šæ˜¯ä¸€ä¸ªä¸Šä¸€æ¬¡çš„Promiseå¯¹è±¡å€¼ï¼Œä¸è¿‡å¦‚æœæŠ›å‡ºçš„æ˜¯ä¸€ä¸ªå¼‚å¸¸åˆ™è¿”å›å¼‚å¸¸çš„Promiseå¯¹è±¡ã€‚</li> <li>finallyæœ¬è´¨ä¸Šæ˜¯thenæ–¹æ³•çš„ç‰¹ä¾‹</li></ul> <p><code>.finally()</code>çš„é”™è¯¯æ•è·ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">finally</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'finally1'</span><span class="token punctuation">)</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'æˆ‘æ˜¯finallyä¸­æŠ›å‡ºçš„å¼‚å¸¸'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'finallyåé¢çš„thenå‡½æ•°'</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æ•è·é”™è¯¯'</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>è¾“å‡ºç»“æœä¸ºï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">'finally1'</span>
<span class="token string">'æ•è·é”™è¯¯'</span> <span class="token literal-property property">Error</span><span class="token operator">:</span> æˆ‘æ˜¯finallyä¸­æŠ›å‡ºçš„å¼‚å¸¸
</code></pre></div><h3 id="_14-ä»£ç è¾“å‡ºç»“æœ"><a href="#_14-ä»£ç è¾“å‡ºç»“æœ" class="header-anchor">#</a> 14. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">runAsync</span> <span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">r</span> <span class="token operator">=&gt;</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">r</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> p
<span class="token punctuation">}</span>

Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">runAsync</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">runAsync</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">runAsync</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token number">1</span>
<span class="token number">2</span>
<span class="token number">3</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
</code></pre></div><p>é¦–å…ˆï¼Œå®šä¹‰äº†ä¸€ä¸ªPromiseï¼Œæ¥å¼‚æ­¥æ‰§è¡Œå‡½æ•°runAsyncï¼Œè¯¥å‡½æ•°ä¼ å…¥ä¸€ä¸ªå€¼xï¼Œç„¶åé—´éš”ä¸€ç§’åæ‰“å°å‡ºè¿™ä¸ªxã€‚</p> <p>ä¹‹åå†ä½¿ç”¨<code>Promise.all</code>æ¥æ‰§è¡Œè¿™ä¸ªå‡½æ•°ï¼Œæ‰§è¡Œçš„æ—¶å€™ï¼Œçœ‹åˆ°ä¸€ç§’ä¹‹åè¾“å‡ºäº†1ï¼Œ2ï¼Œ3ï¼ŒåŒæ—¶è¾“å‡ºäº†æ•°ç»„[1, 2, 3]ï¼Œä¸‰ä¸ªå‡½æ•°æ˜¯åŒæ­¥æ‰§è¡Œçš„ï¼Œå¹¶ä¸”åœ¨ä¸€ä¸ªå›è°ƒå‡½æ•°ä¸­è¿”å›äº†æ‰€æœ‰çš„ç»“æœã€‚å¹¶ä¸”ç»“æœå’Œå‡½æ•°çš„æ‰§è¡Œé¡ºåºæ˜¯ä¸€è‡´çš„ã€‚</p> <h3 id="_15-ä»£ç è¾“å‡ºç»“æœ"><a href="#_15-ä»£ç è¾“å‡ºç»“æœ" class="header-anchor">#</a> 15. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">runAsync</span> <span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">r</span> <span class="token operator">=&gt;</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">r</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> p
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">runReject</span> <span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res<span class="token punctuation">,</span> rej</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">rej</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Error: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>x<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1000</span> <span class="token operator">*</span> x<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> p
<span class="token punctuation">}</span>
Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">runAsync</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">runReject</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">runAsync</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">runReject</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
       <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span>
       <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 1såè¾“å‡º</span>
<span class="token number">1</span>
<span class="token number">3</span>
<span class="token comment">// 2såè¾“å‡º</span>
<span class="token number">2</span>
<span class="token literal-property property">Error</span><span class="token operator">:</span> <span class="token number">2</span>
<span class="token comment">// 4såè¾“å‡º</span>
<span class="token number">4</span>
</code></pre></div><p>å¯ä»¥çœ‹åˆ°ã€‚catchæ•è·åˆ°äº†ç¬¬ä¸€ä¸ªé”™è¯¯ï¼Œåœ¨è¿™é“é¢˜ç›®ä¸­æœ€å…ˆçš„é”™è¯¯å°±æ˜¯<code>runReject(2)</code>çš„ç»“æœã€‚å¦‚æœä¸€ç»„å¼‚æ­¥æ“ä½œä¸­æœ‰ä¸€ä¸ªå¼‚å¸¸éƒ½ä¸ä¼šè¿›å…¥<code>.then()</code>çš„ç¬¬ä¸€ä¸ªå›è°ƒå‡½æ•°å‚æ•°ä¸­ã€‚ä¼šè¢«<code>.then()</code>çš„ç¬¬äºŒä¸ªå›è°ƒå‡½æ•°æ•è·ã€‚</p> <h3 id="_16-ä»£ç è¾“å‡ºç»“æœ"><a href="#_16-ä»£ç è¾“å‡ºç»“æœ" class="header-anchor">#</a> 16. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">runAsync</span> <span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">r</span> <span class="token operator">=&gt;</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">r</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> p
<span class="token punctuation">}</span>
Promise<span class="token punctuation">.</span><span class="token function">race</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">runAsync</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">runAsync</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">runAsync</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'result: '</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token number">1</span>
<span class="token string">'result: '</span> <span class="token number">1</span>
<span class="token number">2</span>
<span class="token number">3</span>
</code></pre></div><p>thenåªä¼šæ•è·ç¬¬ä¸€ä¸ªæˆåŠŸçš„æ–¹æ³•ï¼Œå…¶ä»–çš„å‡½æ•°è™½ç„¶è¿˜ä¼šç»§ç»­æ‰§è¡Œï¼Œä½†æ˜¯ä¸æ˜¯è¢«thenæ•è·äº†ã€‚</p> <h3 id="_17-ä»£ç è¾“å‡ºç»“æœ"><a href="#_17-ä»£ç è¾“å‡ºç»“æœ" class="header-anchor">#</a> 17. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">runAsync</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">r</span> <span class="token operator">=&gt;</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">r</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> p<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">runReject</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res<span class="token punctuation">,</span> rej</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">rej</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Error: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>x<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1000</span> <span class="token operator">*</span> x<span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> p<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
Promise<span class="token punctuation">.</span><span class="token function">race</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">runReject</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">runAsync</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">runAsync</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">runAsync</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;result: &quot;</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p> <div class="language- extra-class"><pre class="language-text"><code>0
Error: 0
1
2
3
</code></pre></div><p>å¯ä»¥çœ‹åˆ°åœ¨catchæ•è·åˆ°ç¬¬ä¸€ä¸ªé”™è¯¯ä¹‹åï¼Œåé¢çš„ä»£ç è¿˜ä¸æ‰§è¡Œï¼Œä¸è¿‡ä¸ä¼šå†è¢«æ•è·äº†ã€‚</p> <p>æ³¨æ„ï¼š<code>all</code>å’Œ<code>race</code>ä¼ å…¥çš„æ•°ç»„ä¸­å¦‚æœæœ‰ä¼šæŠ›å‡ºå¼‚å¸¸çš„å¼‚æ­¥ä»»åŠ¡ï¼Œé‚£ä¹ˆåªæœ‰æœ€å…ˆæŠ›å‡ºçš„é”™è¯¯ä¼šè¢«æ•è·ï¼Œå¹¶ä¸”æ˜¯è¢«thençš„ç¬¬äºŒä¸ªå‚æ•°æˆ–è€…åé¢çš„catchæ•è·ï¼›ä½†å¹¶ä¸ä¼šå½±å“æ•°ç»„ä¸­å…¶å®ƒçš„å¼‚æ­¥ä»»åŠ¡çš„æ‰§è¡Œã€‚</p> <h3 id="_18-ä»£ç è¾“å‡ºç»“æœ"><a href="#_18-ä»£ç è¾“å‡ºç»“æœ" class="header-anchor">#</a> 18. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;async1 start&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;async1 end&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;async2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'start'</span><span class="token punctuation">)</span>
</code></pre></div><p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>async1 start
async2
start
async1 end
</code></pre></div><p>ä»£ç çš„æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹ï¼š</p> <ol><li>é¦–å…ˆæ‰§è¡Œå‡½æ•°ä¸­çš„åŒæ­¥ä»£ç <code>async1 start</code>ï¼Œä¹‹åé‡åˆ°äº†<code>await</code>ï¼Œå®ƒä¼šé˜»å¡<code>async1</code>åé¢ä»£ç çš„æ‰§è¡Œï¼Œå› æ­¤ä¼šå…ˆå»æ‰§è¡Œ<code>async2</code>ä¸­çš„åŒæ­¥ä»£ç <code>async2</code>ï¼Œç„¶åè·³å‡º<code>async1</code>ï¼›</li> <li>è·³å‡º<code>async1</code>å‡½æ•°åï¼Œæ‰§è¡ŒåŒæ­¥ä»£ç <code>start</code>ï¼›</li> <li>åœ¨ä¸€è½®å®ä»»åŠ¡å…¨éƒ¨æ‰§è¡Œå®Œä¹‹åï¼Œå†æ¥æ‰§è¡Œ<code>await</code>åé¢çš„å†…å®¹<code>async1 end</code>ã€‚</li></ol> <p>è¿™é‡Œå¯ä»¥ç†è§£ä¸ºawaitåé¢çš„è¯­å¥ç›¸å½“äºæ”¾åˆ°äº†new Promiseä¸­ï¼Œä¸‹ä¸€è¡ŒåŠä¹‹åçš„è¯­å¥ç›¸å½“äºæ”¾åœ¨Promise.thenä¸­ã€‚</p> <h3 id="_19-ä»£ç è¾“å‡ºç»“æœ"><a href="#_19-ä»£ç è¾“å‡ºç»“æœ" class="header-anchor">#</a> 19. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;async1 start&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;async1 end&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'timer1'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'timer2'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;async2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'timer3'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;start&quot;</span><span class="token punctuation">)</span>
</code></pre></div><p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>async1 start
async2
start
async1 end
timer2
timer3
timer1
</code></pre></div><p>ä»£ç çš„æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹ï¼š</p> <ol><li>é¦–å…ˆè¿›å…¥<code>async1</code>ï¼Œæ‰“å°å‡º<code>async1 start</code>ï¼›</li> <li>ä¹‹åé‡åˆ°<code>async2</code>ï¼Œè¿›å…¥<code>async2</code>ï¼Œé‡åˆ°å®šæ—¶å™¨<code>timer2</code>ï¼ŒåŠ å…¥å®ä»»åŠ¡é˜Ÿåˆ—ï¼Œä¹‹åæ‰“å°<code>async2</code>ï¼›</li> <li>ç”±äº<code>async2</code>é˜»å¡äº†åé¢ä»£ç çš„æ‰§è¡Œï¼Œæ‰€ä»¥æ‰§è¡Œåé¢çš„å®šæ—¶å™¨<code>timer3</code>ï¼Œå°†å…¶åŠ å…¥å®ä»»åŠ¡é˜Ÿåˆ—ï¼Œä¹‹åæ‰“å°<code>start</code>ï¼›</li> <li>ç„¶åæ‰§è¡Œasync2åé¢çš„ä»£ç ï¼Œæ‰“å°å‡º<code>async1 end</code>ï¼Œé‡åˆ°å®šæ—¶å™¨timer1ï¼Œå°†å…¶åŠ å…¥å®ä»»åŠ¡é˜Ÿåˆ—ï¼›</li> <li>æœ€åï¼Œå®ä»»åŠ¡é˜Ÿåˆ—æœ‰ä¸‰ä¸ªä»»åŠ¡ï¼Œå…ˆåé¡ºåºä¸º<code>timer2</code>ï¼Œ<code>timer3</code>ï¼Œ<code>timer1</code>ï¼Œæ²¡æœ‰å¾®ä»»åŠ¡ï¼Œæ‰€ä»¥ç›´æ¥æ‰€æœ‰çš„å®ä»»åŠ¡æŒ‰ç…§å…ˆè¿›å…ˆå‡ºçš„åŸåˆ™æ‰§è¡Œã€‚</li></ol> <h3 id="_20-ä»£ç è¾“å‡ºç»“æœ"><a href="#_20-ä»£ç è¾“å‡ºç»“æœ" class="header-anchor">#</a> 20. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async1</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'async1 start'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'promise1'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'async1 success'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token string">'async1 end'</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'srcipt start'</span><span class="token punctuation">)</span>
<span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'srcipt end'</span><span class="token punctuation">)</span>
</code></pre></div><p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>script start
async1 start
promise1
script end
</code></pre></div><p>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯åœ¨<code>async1</code>ä¸­<code>await</code>åé¢çš„Promiseæ˜¯æ²¡æœ‰è¿”å›å€¼çš„ï¼Œä¹Ÿå°±æ˜¯å®ƒçš„çŠ¶æ€å§‹ç»ˆæ˜¯<code>pending</code>çŠ¶æ€ï¼Œæ‰€ä»¥åœ¨<code>await</code>ä¹‹åçš„å†…å®¹æ˜¯ä¸ä¼šæ‰§è¡Œçš„ï¼ŒåŒ…æ‹¬<code>async1</code>åé¢çš„ <code>.then</code>ã€‚</p> <h3 id="_21-ä»£ç è¾“å‡ºç»“æœ"><a href="#_21-ä»£ç è¾“å‡ºç»“æœ" class="header-anchor">#</a> 21. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async1</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'async1 start'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'promise1'</span><span class="token punctuation">)</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'promise1 resolve'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'async1 success'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token string">'async1 end'</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'srcipt start'</span><span class="token punctuation">)</span>
<span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'srcipt end'</span><span class="token punctuation">)</span>
</code></pre></div><p>è¿™é‡Œæ˜¯å¯¹ä¸Šé¢ä¸€é¢˜è¿›è¡Œäº†æ”¹é€ ï¼ŒåŠ ä¸Šäº†resolveã€‚</p> <p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>script start
async1 start
promise1
script end
promise1 resolve
async1 success
async1 end
</code></pre></div><h3 id="_22-ä»£ç è¾“å‡ºç»“æœ"><a href="#_22-ä»£ç è¾“å‡ºç»“æœ" class="header-anchor">#</a> 22. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;async1 start&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;async1 end&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;async2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;script start&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;setTimeout&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;promise1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;promise2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'script end'</span><span class="token punctuation">)</span>
</code></pre></div><p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>script start
async1 start
async2
promise1
script end
async1 end
promise2
setTimeout
</code></pre></div><p>ä»£ç æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹ï¼š</p> <ol><li>å¼€å¤´å®šä¹‰äº†async1å’Œasync2ä¸¤ä¸ªå‡½æ•°ï¼Œä½†æ˜¯å¹¶æœªæ‰§è¡Œï¼Œæ‰§è¡Œscriptä¸­çš„ä»£ç ï¼Œæ‰€ä»¥æ‰“å°å‡ºscript startï¼›</li> <li>é‡åˆ°å®šæ—¶å™¨Settimeoutï¼Œå®ƒæ˜¯ä¸€ä¸ªå®ä»»åŠ¡ï¼Œå°†å…¶åŠ å…¥åˆ°å®ä»»åŠ¡é˜Ÿåˆ—ï¼›</li> <li>ä¹‹åæ‰§è¡Œå‡½æ•°async1ï¼Œé¦–å…ˆæ‰“å°å‡ºasync1 startï¼›</li> <li>é‡åˆ°awaitï¼Œæ‰§è¡Œasync2ï¼Œæ‰“å°å‡ºasync2ï¼Œå¹¶é˜»æ–­åé¢ä»£ç çš„æ‰§è¡Œï¼Œå°†åé¢çš„ä»£ç åŠ å…¥åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼›</li> <li>ç„¶åè·³å‡ºasync1å’Œasync2ï¼Œé‡åˆ°Promiseï¼Œæ‰“å°å‡ºpromise1ï¼›</li> <li>é‡åˆ°resolveï¼Œå°†å…¶åŠ å…¥åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œç„¶åæ‰§è¡Œåé¢çš„scriptä»£ç ï¼Œæ‰“å°å‡ºscript endï¼›</li> <li>ä¹‹åå°±è¯¥æ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ—äº†ï¼Œé¦–å…ˆæ‰“å°å‡ºasync1 endï¼Œç„¶åæ‰“å°å‡ºpromise2ï¼›</li> <li>æ‰§è¡Œå®Œå¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå°±å¼€å§‹æ‰§è¡Œå®ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„å®šæ—¶å™¨ï¼Œæ‰“å°å‡ºsetTimeoutã€‚</li></ol> <h3 id="_23-ä»£ç è¾“å‡ºç»“æœ"><a href="#_23-ä»£ç è¾“å‡ºç»“æœ" class="header-anchor">#</a> 23. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async1</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'async1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token string">'async1 success'</span>
<span class="token punctuation">}</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async2</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'async2'</span><span class="token punctuation">)</span>
    <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>async2
<span class="token function">Uncaught</span> <span class="token punctuation">(</span><span class="token keyword">in</span> promise<span class="token punctuation">)</span> error
</code></pre></div><p>å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœasyncå‡½æ•°ä¸­æŠ›å‡ºäº†é”™è¯¯ï¼Œå°±ä¼šç»ˆæ­¢é”™è¯¯ç»“æœï¼Œä¸ä¼šç»§ç»­å‘ä¸‹æ‰§è¡Œã€‚</p> <p>å¦‚æœæƒ³è¦è®©é”™è¯¯ä¸è¶³ä¹‹å¤„åé¢çš„ä»£ç æ‰§è¡Œï¼Œå¯ä»¥ä½¿ç”¨catchæ¥æ•è·ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async1</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'error!!!'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">e</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'async1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'async1 success'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'script start'</span><span class="token punctuation">)</span>
</code></pre></div><p>è¿™æ ·çš„è¾“å‡ºç»“æœå°±æ˜¯ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>script start
error<span class="token operator">!</span><span class="token operator">!</span><span class="token operator">!</span>
async1
async1 success
</code></pre></div><h3 id="_24-ä»£ç è¾“å‡ºç»“æœ"><a href="#_24-ä»£ç è¾“å‡ºç»“æœ" class="header-anchor">#</a> 24. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">first</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    p<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">arg</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">arg</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token number">3</span>
<span class="token number">7</span>
<span class="token number">4</span>
<span class="token number">1</span>
<span class="token number">2</span>
<span class="token number">5</span>
Promise<span class="token punctuation">{</span><span class="token operator">&lt;</span>resolved<span class="token operator">&gt;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span>
</code></pre></div><p>ä»£ç çš„æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹ï¼š</p> <ol><li>é¦–å…ˆä¼šè¿›å…¥Promiseï¼Œæ‰“å°å‡º3ï¼Œä¹‹åè¿›å…¥ä¸‹é¢çš„Promiseï¼Œæ‰“å°å‡º7ï¼›</li> <li>é‡åˆ°äº†å®šæ—¶å™¨ï¼Œå°†å…¶åŠ å…¥å®ä»»åŠ¡é˜Ÿåˆ—ï¼›</li> <li>æ‰§è¡ŒPromise  pä¸­çš„resolveï¼ŒçŠ¶æ€å˜ä¸ºresolvedï¼Œè¿”å›å€¼ä¸º1ï¼›</li> <li>æ‰§è¡ŒPromise firstä¸­çš„resolveï¼ŒçŠ¶æ€å˜ä¸ºresolvedï¼Œè¿”å›å€¼ä¸º2ï¼›</li> <li>é‡åˆ°p.thenï¼Œå°†å…¶åŠ å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œé‡åˆ°first().thenï¼Œå°†å…¶åŠ å…¥ä»»åŠ¡é˜Ÿåˆ—ï¼›</li> <li>æ‰§è¡Œå¤–é¢çš„ä»£ç ï¼Œæ‰“å°å‡º4ï¼›</li> <li>è¿™æ ·ç¬¬ä¸€è½®å®ä»»åŠ¡å°±æ‰§è¡Œå®Œäº†ï¼Œå¼€å§‹æ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ï¼Œå…ˆåæ‰“å°å‡º1å’Œ2ï¼›</li> <li>è¿™æ ·å¾®ä»»åŠ¡å°±æ‰§è¡Œå®Œäº†ï¼Œå¼€å§‹æ‰§è¡Œä¸‹ä¸€è½®å®ä»»åŠ¡ï¼Œå®ä»»åŠ¡é˜Ÿåˆ—ä¸­æœ‰ä¸€ä¸ªå®šæ—¶å™¨ï¼Œæ‰§è¡Œå®ƒï¼Œæ‰“å°å‡º5ï¼Œç”±äºæ‰§è¡Œå·²ç»å˜ä¸ºresolvedçŠ¶æ€ï¼Œæ‰€ä»¥<code>resolve(6)</code>ä¸ä¼šå†æ‰§è¡Œï¼›</li> <li>æœ€å<code>console.log(p)</code>æ‰“å°å‡º<code>Promise{&lt;resolved&gt;: 1}</code>ï¼›</li></ol> <h3 id="_25-ä»£ç è¾“å‡ºç»“æœ"><a href="#_25-ä»£ç è¾“å‡ºç»“æœ" class="header-anchor">#</a> 25. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">async1</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'async1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'timer1'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span>
  <span class="token keyword">await</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'promise1'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'async1 end'</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token string">'async1 success'</span>
<span class="token punctuation">}</span> 
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'script start'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'script end'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'timer2'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
</code></pre></div><p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>script start
async1
promise1
script end
<span class="token number">1</span>
timer2
timer1
</code></pre></div><p>ä»£ç çš„æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹ï¼š</p> <ol><li>é¦–å…ˆæ‰§è¡ŒåŒæ­¥å¸¦å—ï¼Œæ‰“å°å‡ºscript startï¼›</li> <li>é‡åˆ°å®šæ—¶å™¨timer1å°†å…¶åŠ å…¥å®ä»»åŠ¡é˜Ÿåˆ—ï¼›</li> <li>ä¹‹åæ˜¯æ‰§è¡ŒPromiseï¼Œæ‰“å°å‡ºpromise1ï¼Œç”±äºPromiseæ²¡æœ‰è¿”å›å€¼ï¼Œæ‰€ä»¥åé¢çš„ä»£ç ä¸ä¼šæ‰§è¡Œï¼›</li> <li>ç„¶åæ‰§è¡ŒåŒæ­¥ä»£ç ï¼Œæ‰“å°å‡ºscript endï¼›</li> <li>ç»§ç»­æ‰§è¡Œä¸‹é¢çš„Promiseï¼Œ.thenå’Œ.catchæœŸæœ›å‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¿™é‡Œä¼ å…¥çš„æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå› æ­¤å°±ä¼šå‘ç”Ÿå€¼æ¸—é€ï¼Œå°†resolve(1)çš„å€¼ä¼ åˆ°æœ€åä¸€ä¸ªthenï¼Œç›´æ¥æ‰“å°å‡º1ï¼›</li> <li>é‡åˆ°ç¬¬äºŒä¸ªå®šæ—¶å™¨ï¼Œå°†å…¶åŠ å…¥åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œæ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ—ï¼ŒæŒ‰é¡ºåºä¾æ¬¡æ‰§è¡Œä¸¤ä¸ªå®šæ—¶å™¨ï¼Œä½†æ˜¯ç”±äºå®šæ—¶å™¨æ—¶é—´çš„åŸå› ï¼Œä¼šåœ¨ä¸¤ç§’åå…ˆæ‰“å°å‡ºtimer2ï¼Œåœ¨å››ç§’åæ‰“å°å‡ºtimer1ã€‚</li></ol> <h3 id="_26-ä»£ç è¾“å‡ºç»“æœ"><a href="#_26-ä»£ç è¾“å‡ºç»“æœ" class="header-anchor">#</a> 26. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'resolve3'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'timer1'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'resovle1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'resolve2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>  <span class="token comment">// resolve1</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">finally</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'finally'</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>æ‰§è¡Œç»“æœä¸ºå¦‚ä¸‹ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>resolve1
finally  <span class="token keyword">undefined</span>
timer1
Promise<span class="token punctuation">{</span><span class="token operator">&lt;</span>resolved<span class="token operator">&gt;</span><span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">}</span>
</code></pre></div><h3 id="_27-ä»£ç è¾“å‡ºç»“æœ"><a href="#_27-ä»£ç è¾“å‡ºç»“æœ" class="header-anchor">#</a> 27. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    process<span class="token punctuation">.</span><span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'3'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'4'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'5'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
process<span class="token punctuation">.</span><span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'6'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'7'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'8'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'9'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    process<span class="token punctuation">.</span><span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'10'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'11'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'12'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token number">1</span>
<span class="token number">7</span>
<span class="token number">6</span>
<span class="token number">8</span>
<span class="token number">2</span>
<span class="token number">4</span>
<span class="token number">3</span>
<span class="token number">5</span>
<span class="token number">9</span>
<span class="token number">11</span>
<span class="token number">10</span>
<span class="token number">12</span>
</code></pre></div><p><strong>ï¼ˆ1ï¼‰ç¬¬ä¸€è½®äº‹ä»¶å¾ªç¯æµç¨‹åˆ†æå¦‚ä¸‹ï¼š</strong></p> <ul><li>æ•´ä½“scriptä½œä¸ºç¬¬ä¸€ä¸ªå®ä»»åŠ¡è¿›å…¥ä¸»çº¿ç¨‹ï¼Œé‡åˆ°<code>console.log</code>ï¼Œè¾“å‡º1ã€‚</li> <li>é‡åˆ°<code>setTimeout</code>ï¼Œå…¶å›è°ƒå‡½æ•°è¢«åˆ†å‘åˆ°å®ä»»åŠ¡Event Queueä¸­ã€‚æš‚ä¸”è®°ä¸º<code>setTimeout1</code>ã€‚</li> <li>é‡åˆ°<code>process.nextTick()</code>ï¼Œå…¶å›è°ƒå‡½æ•°è¢«åˆ†å‘åˆ°å¾®ä»»åŠ¡Event Queueä¸­ã€‚è®°ä¸º<code>process1</code>ã€‚</li> <li>é‡åˆ°<code>Promise</code>ï¼Œ<code>new Promise</code>ç›´æ¥æ‰§è¡Œï¼Œè¾“å‡º7ã€‚<code>then</code>è¢«åˆ†å‘åˆ°å¾®ä»»åŠ¡Event Queueä¸­ã€‚è®°ä¸º<code>then1</code>ã€‚</li> <li>åˆé‡åˆ°äº†<code>setTimeout</code>ï¼Œå…¶å›è°ƒå‡½æ•°è¢«åˆ†å‘åˆ°å®ä»»åŠ¡Event Queueä¸­ï¼Œè®°ä¸º<code>setTimeout2</code>ã€‚</li></ul> <table><thead><tr><th>å®ä»»åŠ¡Event Queue</th> <th>å¾®ä»»åŠ¡Event Queue</th></tr></thead> <tbody><tr><td>setTimeout1</td> <td>process1</td></tr> <tr><td>setTimeout2</td> <td>then1</td></tr></tbody></table> <p>ä¸Šè¡¨æ˜¯ç¬¬ä¸€è½®äº‹ä»¶å¾ªç¯å®ä»»åŠ¡ç»“æŸæ—¶å„Event Queueçš„æƒ…å†µï¼Œæ­¤æ—¶å·²ç»è¾“å‡ºäº†1å’Œ7ã€‚å‘ç°äº†<code>process1</code>å’Œ<code>then1</code>ä¸¤ä¸ªå¾®ä»»åŠ¡ï¼š</p> <ul><li>æ‰§è¡Œ<code>process1</code>ï¼Œè¾“å‡º6ã€‚</li> <li>æ‰§è¡Œ<code>then1</code>ï¼Œè¾“å‡º8ã€‚</li></ul> <p>ç¬¬ä¸€è½®äº‹ä»¶å¾ªç¯æ­£å¼ç»“æŸï¼Œè¿™ä¸€è½®çš„ç»“æœæ˜¯è¾“å‡º1ï¼Œ7ï¼Œ6ï¼Œ8ã€‚</p> <p><strong>ï¼ˆ2ï¼‰ç¬¬äºŒè½®æ—¶é—´å¾ªç¯ä»</strong><code>**setTimeout1**</code><strong>å®ä»»åŠ¡å¼€å§‹ï¼š</strong></p> <ul><li>é¦–å…ˆè¾“å‡º2ã€‚æ¥ä¸‹æ¥é‡åˆ°äº†<code>process.nextTick()</code>ï¼ŒåŒæ ·å°†å…¶åˆ†å‘åˆ°å¾®ä»»åŠ¡Event Queueä¸­ï¼Œè®°ä¸º<code>process2</code>ã€‚</li> <li><code>new Promise</code>ç«‹å³æ‰§è¡Œè¾“å‡º4ï¼Œ<code>then</code>ä¹Ÿåˆ†å‘åˆ°å¾®ä»»åŠ¡Event Queueä¸­ï¼Œè®°ä¸º<code>then2</code>ã€‚</li></ul> <table><thead><tr><th>å®ä»»åŠ¡Event Queue</th> <th>å¾®ä»»åŠ¡Event Queue</th></tr></thead> <tbody><tr><td>setTimeout2</td> <td>process2</td></tr> <tr><td></td> <td>then2</td></tr></tbody></table> <p>ç¬¬äºŒè½®äº‹ä»¶å¾ªç¯å®ä»»åŠ¡ç»“æŸï¼Œå‘ç°æœ‰<code>process2</code>å’Œ<code>then2</code>ä¸¤ä¸ªå¾®ä»»åŠ¡å¯ä»¥æ‰§è¡Œï¼š</p> <ul><li>è¾“å‡º3ã€‚</li> <li>è¾“å‡º5ã€‚</li></ul> <p>ç¬¬äºŒè½®äº‹ä»¶å¾ªç¯ç»“æŸï¼Œç¬¬äºŒè½®è¾“å‡º2ï¼Œ4ï¼Œ3ï¼Œ5ã€‚</p> <p><strong>ï¼ˆ3ï¼‰ç¬¬ä¸‰è½®äº‹ä»¶å¾ªç¯å¼€å§‹ï¼Œæ­¤æ—¶åªå‰©setTimeout2äº†ï¼Œæ‰§è¡Œã€‚</strong></p> <ul><li>ç›´æ¥è¾“å‡º9ã€‚</li> <li>å°†<code>process.nextTick()</code>åˆ†å‘åˆ°å¾®ä»»åŠ¡Event Queueä¸­ã€‚è®°ä¸º<code>process3</code>ã€‚</li> <li>ç›´æ¥æ‰§è¡Œ<code>new Promise</code>ï¼Œè¾“å‡º11ã€‚</li> <li>å°†<code>then</code>åˆ†å‘åˆ°å¾®ä»»åŠ¡Event Queueä¸­ï¼Œè®°ä¸º<code>then3</code>ã€‚</li></ul> <table><thead><tr><th>å®ä»»åŠ¡Event Queue</th> <th>å¾®ä»»åŠ¡Event Queue</th></tr></thead> <tbody><tr><td></td> <td>process3</td></tr> <tr><td></td> <td>then3</td></tr></tbody></table> <p>ç¬¬ä¸‰è½®äº‹ä»¶å¾ªç¯å®ä»»åŠ¡æ‰§è¡Œç»“æŸï¼Œæ‰§è¡Œä¸¤ä¸ªå¾®ä»»åŠ¡<code>process3</code>å’Œ<code>then3</code>ï¼š</p> <ul><li>è¾“å‡º10ã€‚</li> <li>è¾“å‡º12ã€‚</li></ul> <p>ç¬¬ä¸‰è½®äº‹ä»¶å¾ªç¯ç»“æŸï¼Œç¬¬ä¸‰è½®è¾“å‡º9ï¼Œ11ï¼Œ10ï¼Œ12ã€‚</p> <p>æ•´æ®µä»£ç ï¼Œå…±è¿›è¡Œäº†ä¸‰æ¬¡äº‹ä»¶å¾ªç¯ï¼Œå®Œæ•´çš„è¾“å‡ºä¸º1ï¼Œ7ï¼Œ6ï¼Œ8ï¼Œ2ï¼Œ4ï¼Œ3ï¼Œ5ï¼Œ9ï¼Œ11ï¼Œ10ï¼Œ12ã€‚</p> <h3 id="_28-ä»£ç è¾“å‡ºç»“æœ"><a href="#_28-ä»£ç è¾“å‡ºç»“æœ" class="header-anchor">#</a> 28. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span>  <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">d</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
  <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span>  <span class="token punctuation">{</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">d</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span>
</code></pre></div><p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p> <div class="language- extra-class"><pre class="language-text"><code>1
3
8
4
2
5
6
7
</code></pre></div><p>ä»£ç æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹ï¼š</p> <ol><li>é¦–å…ˆæ‰§è¡Œscriptä»£ç ï¼Œæ‰“å°å‡º1ï¼›</li> <li>é‡åˆ°ç¬¬ä¸€ä¸ªå®šæ—¶å™¨ï¼ŒåŠ å…¥åˆ°å®ä»»åŠ¡é˜Ÿåˆ—ï¼›</li> <li>é‡åˆ°Promiseï¼Œæ‰§è¡Œä»£ç ï¼Œæ‰“å°å‡º3ï¼Œé‡åˆ°resolveï¼Œå°†å…¶åŠ å…¥åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼›</li> <li>é‡åˆ°ç¬¬äºŒä¸ªå®šæ—¶å™¨ï¼ŒåŠ å…¥åˆ°å®ä»»åŠ¡é˜Ÿåˆ—ï¼›</li> <li>é‡åˆ°ç¬¬ä¸‰ä¸ªå®šæ—¶å™¨ï¼ŒåŠ å…¥åˆ°å®ä»»åŠ¡é˜Ÿåˆ—ï¼›</li> <li>ç»§ç»­æ‰§è¡Œscriptä»£ç ï¼Œæ‰“å°å‡º8ï¼Œç¬¬ä¸€è½®æ‰§è¡Œç»“æŸï¼›</li> <li>æ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œæ‰“å°å‡ºç¬¬ä¸€ä¸ªPromiseçš„resolveç»“æœï¼š4ï¼›</li> <li>å¼€å§‹æ‰§è¡Œå®ä»»åŠ¡é˜Ÿåˆ—ï¼Œæ‰§è¡Œç¬¬ä¸€ä¸ªå®šæ—¶å™¨ï¼Œæ‰“å°å‡º2ï¼›</li> <li>æ­¤æ—¶æ²¡æœ‰å¾®ä»»åŠ¡ï¼Œç»§ç»­æ‰§è¡Œå®ä»»åŠ¡ä¸­çš„ç¬¬äºŒä¸ªå®šæ—¶å™¨ï¼Œé¦–å…ˆæ‰“å°å‡º5ï¼Œé‡åˆ°Promiseï¼Œé¦–é€‰æ‰“å°å‡º6ï¼Œé‡åˆ°resolveï¼Œå°†å…¶åŠ å…¥åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼›</li> <li>æ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œæ‰“å°å‡º6ï¼›</li> <li>æ‰§è¡Œå®ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„æœ€åä¸€ä¸ªå®šæ—¶å™¨ï¼Œæ‰“å°å‡º7ã€‚</li></ol> <h3 id="_29-ä»£ç è¾“å‡ºç»“æœ"><a href="#_29-ä»£ç è¾“å‡ºç»“æœ" class="header-anchor">#</a> 29. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>ä»£ç è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p> <div class="language- extra-class"><pre class="language-text"><code>1
4
7
5
2
3
6
</code></pre></div><p>ä»£ç æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹ï¼š</p> <ol><li>é¦–å…ˆæ‰§è¡Œscripä»£ç ï¼Œæ‰“å°å‡º1ï¼›</li> <li>é‡åˆ°ç¬¬ä¸€ä¸ªå®šæ—¶å™¨setTimeoutï¼Œå°†å…¶åŠ å…¥åˆ°å®ä»»åŠ¡é˜Ÿåˆ—ï¼›</li> <li>é‡åˆ°Promiseï¼Œæ‰§è¡Œé‡Œé¢çš„åŒæ­¥ä»£ç ï¼Œæ‰“å°å‡º4ï¼Œé‡åˆ°resolveï¼Œå°†å…¶åŠ å…¥åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼›</li> <li>é‡åˆ°ç¬¬äºŒä¸ªå®šæ—¶å™¨setTimeoutï¼Œå°†å…¶åŠ å…¥åˆ°çº¢ä»»åŠ¡é˜Ÿåˆ—ï¼›</li> <li>æ‰§è¡Œscriptä»£ç ï¼Œæ‰“å°å‡º7ï¼Œè‡³æ­¤ç¬¬ä¸€è½®æ‰§è¡Œå®Œæˆï¼›</li> <li>æŒ‡å®šå¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ä»£ç ï¼Œæ‰“å°å‡ºresolveçš„ç»“æœï¼š5ï¼›</li> <li>æ‰§è¡Œå®ä»»åŠ¡ä¸­çš„ç¬¬ä¸€ä¸ªå®šæ—¶å™¨setTimeoutï¼Œé¦–å…ˆæ‰“å°å‡º2ï¼Œç„¶åé‡åˆ° Promise.resolve().then()ï¼Œå°†å…¶åŠ å…¥åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼›</li> <li>æ‰§è¡Œå®Œè¿™ä¸ªå®ä»»åŠ¡ï¼Œå°±å¼€å§‹æ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œæ‰“å°å‡º3ï¼›</li> <li>ç»§ç»­æ‰§è¡Œå®ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ç¬¬äºŒä¸ªå®šæ—¶å™¨ï¼Œæ‰“å°å‡º6ã€‚</li></ol> <h3 id="_30-ä»£ç è¾“å‡ºç»“æœ"><a href="#_30-ä»£ç è¾“å‡ºç»“æœ" class="header-anchor">#</a> 30. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code>Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">throw</span> <span class="token string">'Error'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'3'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">throw</span> <span class="token string">'Error'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'4'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'5'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'6'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</p> <div class="language- extra-class"><pre class="language-text"><code>1 
3 
5 
6
</code></pre></div><p>åœ¨è¿™é“é¢˜ç›®ä¸­ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“ï¼Œæ— è®ºæ˜¯thneè¿˜æ˜¯catchä¸­ï¼Œåªè¦throw æŠ›å‡ºäº†é”™è¯¯ï¼Œå°±ä¼šè¢«catchæ•è·ï¼Œå¦‚æœæ²¡æœ‰throwå‡ºé”™è¯¯ï¼Œå°±è¢«ç»§ç»­æ‰§è¡Œåé¢çš„thenã€‚</p> <h3 id="_31-ä»£ç è¾“å‡ºç»“æœ"><a href="#_31-ä»£ç è¾“å‡ºç»“æœ" class="header-anchor">#</a> 31. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resove<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>  <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>è¾“å‡ºç»“æœä¸ºï¼š</p> <div class="language- extra-class"><pre class="language-text"><code>2
3
7
8
4
5
6
1
</code></pre></div><p>ä»£ç æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹ï¼š</p> <ol><li>é¦–å…ˆé‡åˆ°å®šæ—¶å™¨ï¼Œå°†å…¶åŠ å…¥åˆ°å®ä»»åŠ¡é˜Ÿåˆ—ï¼›</li> <li>é‡åˆ°Promiseï¼Œé¦–å…ˆæ‰§è¡Œé‡Œé¢çš„åŒæ­¥ä»£ç ï¼Œæ‰“å°å‡º2ï¼Œé‡åˆ°resolveï¼Œå°†å…¶åŠ å…¥åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œæ‰§è¡Œåé¢åŒæ­¥ä»£ç ï¼Œæ‰“å°å‡º3ï¼›</li> <li>ç»§ç»­æ‰§è¡Œscriptä¸­çš„ä»£ç ï¼Œæ‰“å°å‡º7å’Œ8ï¼Œè‡³æ­¤ç¬¬ä¸€è½®ä»£ç æ‰§è¡Œå®Œæˆï¼›</li> <li>æ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ä»£ç ï¼Œé¦–å…ˆæ‰“å°å‡º4ï¼Œå¦‚é‡åˆ°Promiseï¼Œæ‰§è¡Œå…¶ä¸­çš„åŒæ­¥ä»£ç ï¼Œæ‰“å°å‡º5ï¼Œé‡åˆ°å®šæ—¶å™¨ï¼Œå°†å…¶åŠ å…¥åˆ°å®ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œæ­¤æ—¶å®ä»»åŠ¡é˜Ÿåˆ—ä¸­æœ‰ä¸¤ä¸ªå®šæ—¶å™¨ï¼›</li> <li>æ‰§è¡Œå®ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ä»£ç ï¼Œè¿™é‡Œæˆ‘ä»¬éœ€è¦æ³¨æ„æ˜¯çš„ç¬¬ä¸€ä¸ªå®šæ—¶å™¨çš„æ—¶é—´ä¸º100msï¼Œç¬¬äºŒä¸ªå®šæ—¶å™¨çš„æ—¶é—´ä¸º10msï¼Œæ‰€ä»¥å…ˆæ‰§è¡Œç¬¬äºŒä¸ªå®šæ—¶å™¨ï¼Œæ‰“å°å‡º6ï¼›</li> <li>æ­¤æ—¶å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸ºç©ºï¼Œç»§ç»­æ‰§è¡Œå®ä»»åŠ¡é˜Ÿåˆ—ï¼Œæ‰“å°å‡º1ã€‚</li></ol> <p>åšå®Œè¿™é“é¢˜ç›®ï¼Œæˆ‘ä»¬å°±éœ€è¦æ ¼å¤–æ³¨æ„ï¼Œæ¯ä¸ªå®šæ—¶å™¨çš„æ—¶é—´ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰å®šæ—¶å™¨çš„æ—¶é—´éƒ½ä¸º0å“¦ã€‚</p> <h2 id="äºŒã€this"><a href="#äºŒã€this" class="header-anchor">#</a> äºŒã€this</h2> <h3 id="_1-ä»£ç è¾“å‡ºç»“æœ-2"><a href="#_1-ä»£ç è¾“å‡ºç»“æœ-2" class="header-anchor">#</a> 1. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">doFoo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token literal-property property">doFoo</span><span class="token operator">:</span> doFoo
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> 
obj<span class="token punctuation">.</span><span class="token function">doFoo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>è¾“å‡ºç»“æœï¼š2</p> <p>åœ¨Javascriptä¸­ï¼ŒthisæŒ‡å‘å‡½æ•°æ‰§è¡Œæ—¶çš„å½“å‰å¯¹è±¡ã€‚åœ¨æ‰§è¡Œfooçš„æ—¶å€™ï¼Œæ‰§è¡Œç¯å¢ƒå°±æ˜¯doFooå‡½æ•°ï¼Œæ‰§è¡Œç¯å¢ƒä¸ºå…¨å±€ã€‚æ‰€ä»¥ï¼Œfooä¸­çš„thisæ˜¯æŒ‡å‘windowçš„ï¼Œæ‰€ä»¥ä¼šæ‰“å°å‡º2ã€‚</p> <h3 id="_2-ä»£ç è¾“å‡ºç»“æœ-2"><a href="#_2-ä»£ç è¾“å‡ºç»“æœ-2" class="header-anchor">#</a> 2. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
  <span class="token function-variable function">say</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
obj<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 

<span class="token keyword">var</span> anotherObj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">30</span> <span class="token punctuation">}</span> 
obj<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>anotherObj<span class="token punctuation">)</span> 
</code></pre></div><p>è¾“å‡ºç»“æœï¼š10  10</p> <p>æˆ‘ä¹ˆçŸ¥é“ï¼Œç®­å¤´å‡½æ•°æ—¶ä¸ç»‘å®šthisçš„ï¼Œå®ƒçš„thisæ¥è‡ªåŸå…¶çˆ¶çº§æ‰€å¤„çš„ä¸Šä¸‹æ–‡ï¼Œæ‰€ä»¥é¦–å…ˆä¼šæ‰“å°å…¨å±€ä¸­çš„ a çš„å€¼10ã€‚åé¢è™½ç„¶è®©sayæ–¹æ³•æŒ‡å‘äº†å¦å¤–ä¸€ä¸ªå¯¹è±¡ï¼Œä½†æ˜¯ä»ä¸èƒ½æ”¹å˜ç®­å¤´å‡½æ•°çš„ç‰¹æ€§ï¼Œå®ƒçš„thisä»ç„¶æ˜¯æŒ‡å‘å…¨å±€çš„ï¼Œæ‰€ä»¥ä¾æ—§ä¼šè¾“å‡º10ã€‚</p> <p>ä½†æ˜¯ï¼Œå¦‚æœæ˜¯æ™®é€šå‡½æ•°ï¼Œé‚£ä¹ˆå°±ä¼šæœ‰å®Œå…¨ä¸ä¸€æ ·çš„ç»“æœï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span>  
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>  
  <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>  
  <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span>  
  <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>  
obj<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   
<span class="token keyword">var</span> anotherObj<span class="token operator">=</span><span class="token punctuation">{</span><span class="token literal-property property">a</span><span class="token operator">:</span><span class="token number">30</span><span class="token punctuation">}</span>   
obj<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>anotherObj<span class="token punctuation">)</span>
</code></pre></div><p>è¾“å‡ºç»“æœï¼š20 30</p> <p>è¿™æ—¶ï¼Œsayæ–¹æ³•ä¸­çš„thiså°±ä¼šæŒ‡å‘ä»–æ‰€åœ¨çš„å¯¹è±¡ï¼Œè¾“å‡ºå…¶ä¸­çš„açš„å€¼ã€‚</p> <h3 id="_3-ä»£ç è¾“å‡ºç»“æœ-2"><a href="#_3-ä»£ç è¾“å‡ºç»“æœ-2" class="header-anchor">#</a> 3. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">a</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>æ‰“å°ç»“æœï¼šwindowå¯¹è±¡</p> <p>æ ¹æ®ECMAScript262è§„èŒƒè§„å®šï¼šå¦‚æœç¬¬ä¸€ä¸ªå‚æ•°ä¼ å…¥çš„å¯¹è±¡è°ƒç”¨è€…æ˜¯nullæˆ–è€…undefinedï¼Œcallæ–¹æ³•å°†æŠŠå…¨å±€å¯¹è±¡ï¼ˆæµè§ˆå™¨ä¸Šæ˜¯windowå¯¹è±¡ï¼‰ä½œä¸ºthisçš„å€¼ã€‚æ‰€ä»¥ï¼Œä¸ç®¡ä¼ å…¥null è¿˜æ˜¯ undefinedï¼Œå…¶thiséƒ½æ˜¯å…¨å±€å¯¹è±¡windowã€‚æ‰€ä»¥ï¼Œåœ¨æµè§ˆå™¨ä¸Šç­”æ¡ˆæ˜¯è¾“å‡º window å¯¹è±¡ã€‚</p> <p>è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸­ï¼Œnull å°±æ˜¯ nullï¼Œundefined å°±æ˜¯ undefinedï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">'use strict'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">a</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// null</span>
<span class="token function">a</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
</code></pre></div><h3 id="_4-ä»£ç è¾“å‡ºç»“æœ-2"><a href="#_4-ä»£ç è¾“å‡ºç»“æœ-2" class="header-anchor">#</a> 4. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> 
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'cuggz'</span><span class="token punctuation">,</span> 
  <span class="token function-variable function">fun</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> 
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> 
  <span class="token punctuation">}</span> 
<span class="token punctuation">}</span> 
obj<span class="token punctuation">.</span><span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token comment">// cuggz</span>
<span class="token keyword">new</span> <span class="token class-name">obj<span class="token punctuation">.</span>fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// undefined</span>
</code></pre></div><h3 id="_6-ä»£ç è¾“å‡ºç»“æœ-2"><a href="#_6-ä»£ç è¾“å‡ºç»“æœ-2" class="header-anchor">#</a> 6. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
   <span class="token function-variable function">say</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">var</span> <span class="token function-variable function">f1</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>  <span class="token punctuation">{</span>
       console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;1111&quot;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
     <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token literal-property property">pro</span><span class="token operator">:</span> <span class="token punctuation">{</span>
     <span class="token function-variable function">getPro</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>  <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> o <span class="token operator">=</span> obj<span class="token punctuation">.</span>say<span class="token punctuation">;</span>
<span class="token function">o</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span>pro<span class="token punctuation">.</span><span class="token function">getPro</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>è¾“å‡ºç»“æœï¼š</p> <div class="language- extra-class"><pre class="language-text"><code>1111 windowå¯¹è±¡
1111 objå¯¹è±¡
windowå¯¹è±¡
</code></pre></div><p><strong>è§£æï¼š</strong></p> <ol><li>o()ï¼Œoæ˜¯åœ¨å…¨å±€æ‰§è¡Œçš„ï¼Œè€Œf1æ˜¯ç®­å¤´å‡½æ•°ï¼Œå®ƒæ˜¯æ²¡æœ‰ç»‘å®šthisçš„ï¼Œå®ƒçš„thisæŒ‡å‘å…¶çˆ¶çº§çš„thisï¼Œå…¶çˆ¶çº§sayæ–¹æ³•çš„thisæŒ‡å‘çš„æ˜¯å…¨å±€ä½œç”¨åŸŸï¼Œæ‰€ä»¥ä¼šæ‰“å°å‡ºwindowï¼›</li> <li>obj.say()ï¼Œè°è°ƒç”¨sayï¼Œsay çš„thiså°±æŒ‡å‘è°ï¼Œæ‰€ä»¥æ­¤æ—¶thisæŒ‡å‘çš„æ˜¯objå¯¹è±¡ï¼›</li> <li>obj.pro.getPro()ï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œç®­å¤´å‡½æ•°æ—¶ä¸ç»‘å®šthisçš„ï¼ŒgetProå¤„äºproä¸­ï¼Œè€Œå¯¹è±¡ä¸æ„æˆå•ç‹¬çš„ä½œç”¨åŸŸï¼Œæ‰€ä»¥ç®­å¤´çš„å‡½æ•°çš„thiså°±æŒ‡å‘äº†å…¨å±€ä½œç”¨åŸŸwindowã€‚</li></ol> <h3 id="_7-ä»£ç è¾“å‡ºç»“æœ-2"><a href="#_7-ä»£ç è¾“å‡ºç»“æœ-2" class="header-anchor">#</a> 7. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> myObject <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token string">&quot;bar&quot;</span><span class="token punctuation">,</span>
    <span class="token function-variable function">func</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> self <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span>  
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span>  
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
myObject<span class="token punctuation">.</span><span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>è¾“å‡ºç»“æœï¼šbar bar undefined bar</p> <p><strong>è§£æï¼š</strong></p> <ol><li>é¦–å…ˆfuncæ˜¯ç”±myObjectè°ƒç”¨çš„ï¼ŒthisæŒ‡å‘myObjectã€‚åˆå› ä¸ºvar self = this;æ‰€ä»¥selfæŒ‡å‘myObjectã€‚</li> <li>è¿™ä¸ªç«‹å³æ‰§è¡ŒåŒ¿åå‡½æ•°è¡¨è¾¾å¼æ˜¯ç”±windowè°ƒç”¨çš„ï¼ŒthisæŒ‡å‘window ã€‚ç«‹å³æ‰§è¡ŒåŒ¿åå‡½æ•°çš„ä½œç”¨åŸŸå¤„äºmyObject.funcçš„ä½œç”¨åŸŸä¸­ï¼Œåœ¨è¿™ä¸ªä½œç”¨åŸŸæ‰¾ä¸åˆ°selfå˜é‡ï¼Œæ²¿ç€ä½œç”¨åŸŸé“¾å‘ä¸ŠæŸ¥æ‰¾selfå˜é‡ï¼Œæ‰¾åˆ°äº†æŒ‡å‘ myObjectå¯¹è±¡çš„selfã€‚</li></ol> <h3 id="_8-ä»£ç è¾“å‡ºé—®é¢˜"><a href="#_8-ä»£ç è¾“å‡ºé—®é¢˜" class="header-anchor">#</a> 8. ä»£ç è¾“å‡ºé—®é¢˜</h3> <div class="language-js extra-class"><pre class="language-js"><code>window<span class="token punctuation">.</span>number <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
 <span class="token literal-property property">number</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
 <span class="token literal-property property">db1</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">this</span><span class="token punctuation">.</span>number <span class="token operator">*=</span> <span class="token number">4</span><span class="token punctuation">;</span>
   <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token keyword">this</span><span class="token punctuation">.</span>number <span class="token operator">*=</span> <span class="token number">5</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> db1 <span class="token operator">=</span> obj<span class="token punctuation">.</span>db1<span class="token punctuation">;</span>
<span class="token function">db1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span><span class="token function">db1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>number<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// 15</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>number<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 40</span>
</code></pre></div><p>è¿™é“é¢˜ç›®çœ‹æ¸…èµ·æ¥æœ‰ç‚¹ä¹±ï¼Œä½†æ˜¯å®é™…ä¸Šæ˜¯è€ƒå¯ŸthisæŒ‡å‘çš„:</p> <ol><li>æ‰§è¡Œdb1()æ—¶ï¼ŒthisæŒ‡å‘å…¨å±€ä½œç”¨åŸŸï¼Œæ‰€ä»¥window.number * 4 = 8ï¼Œç„¶åæ‰§è¡ŒåŒ¿åå‡½æ•°ï¼Œ æ‰€ä»¥window.number * 5 = 40ï¼›</li> <li>æ‰§è¡Œobj.db1();æ—¶ï¼ŒthisæŒ‡å‘objå¯¹è±¡ï¼Œæ‰§è¡ŒåŒ¿åå‡½æ•°ï¼Œæ‰€ä»¥obj.numer * 5 = 15ã€‚</li></ol> <h3 id="_9-ä»£ç è¾“å‡ºç»“æœ-2"><a href="#_9-ä»£ç è¾“å‡ºç»“æœ-2" class="header-anchor">#</a> 9. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> length <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
  <span class="token function-variable function">method</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    arguments<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
 
obj<span class="token punctuation">.</span><span class="token function">method</span><span class="token punctuation">(</span>fn<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>è¾“å‡ºç»“æœï¼š 10 2</p> <p><strong>è§£æï¼š</strong></p> <ol><li>ç¬¬ä¸€æ¬¡æ‰§è¡Œfn()ï¼ŒthisæŒ‡å‘windowå¯¹è±¡ï¼Œè¾“å‡º10ã€‚</li> <li>ç¬¬äºŒæ¬¡æ‰§è¡Œarguments<a href="">0</a>ï¼Œç›¸å½“äºargumentsè°ƒç”¨æ–¹æ³•ï¼ŒthisæŒ‡å‘argumentsï¼Œè€Œè¿™é‡Œä¼ äº†ä¸¤ä¸ªå‚æ•°ï¼Œæ•…è¾“å‡ºargumentsé•¿åº¦ä¸º2ã€‚</li></ol> <h3 id="_10-ä»£ç è¾“å‡ºç»“æœ-2"><a href="#_10-ä»£ç è¾“å‡ºç»“æœ-2" class="header-anchor">#</a> 10. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">printA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> obj<span class="token operator">=</span><span class="token punctuation">{</span>
  <span class="token literal-property property">a</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token literal-property property">foo</span><span class="token operator">:</span>printA<span class="token punctuation">,</span>
  <span class="token function-variable function">bar</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">printA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

obj<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
obj<span class="token punctuation">.</span><span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
<span class="token keyword">var</span> foo <span class="token operator">=</span> obj<span class="token punctuation">.</span>foo<span class="token punctuation">;</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
</code></pre></div><p>è¾“å‡ºç»“æœï¼š 2 1 1</p> <p><strong>è§£æï¼š</strong></p> <ol><li>obj.foo()ï¼Œfoo çš„thisæŒ‡å‘objå¯¹è±¡ï¼Œæ‰€ä»¥aä¼šè¾“å‡º2ï¼›</li> <li>obj.bar()ï¼ŒprintAåœ¨baræ–¹æ³•ä¸­æ‰§è¡Œï¼Œæ‰€ä»¥æ­¤æ—¶printAçš„thisæŒ‡å‘çš„æ˜¯windowï¼Œæ‰€ä»¥ä¼šè¾“å‡º1ï¼›</li> <li>foo()ï¼Œfooæ˜¯åœ¨å…¨å±€å¯¹è±¡ä¸­æ‰§è¡Œçš„ï¼Œæ‰€ä»¥å…¶thisæŒ‡å‘çš„æ˜¯windowï¼Œæ‰€ä»¥ä¼šè¾“å‡º1ï¼›</li></ol> <h3 id="_11-ä»£ç è¾“å‡ºç»“æœ-2"><a href="#_11-ä»£ç è¾“å‡ºç»“æœ-2" class="header-anchor">#</a> 11. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
    <span class="token function-variable function">getX</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">getY</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">getX</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 3</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">getY</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 6</span>
</code></pre></div><p>è¾“å‡ºç»“æœï¼š3  6</p> <p><strong>è§£æï¼š</strong></p> <ol><li>æˆ‘ä»¬çŸ¥é“ï¼ŒåŒ¿åå‡½æ•°çš„thisæ˜¯æŒ‡å‘å…¨å±€å¯¹è±¡çš„ï¼Œæ‰€ä»¥thisæŒ‡å‘windowï¼Œä¼šæ‰“å°å‡º3ï¼›</li> <li>getYæ˜¯ç”±objè°ƒç”¨çš„ï¼Œæ‰€ä»¥å…¶thisæŒ‡å‘çš„æ˜¯objå¯¹è±¡ï¼Œä¼šæ‰“å°å‡º6ã€‚</li></ol> <h3 id="_12-ä»£ç è¾“å‡ºç»“æœ-2"><a href="#_12-ä»£ç è¾“å‡ºç»“æœ-2" class="header-anchor">#</a> 12. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> 
 <span class="token keyword">var</span> obt <span class="token operator">=</span> <span class="token punctuation">{</span> 
   <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span> 
   <span class="token function-variable function">fn</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> 
     <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span> 
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span>
   <span class="token punctuation">}</span> 
 <span class="token punctuation">}</span>
 obt<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 20</span>
 obt<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 10</span>
 <span class="token punctuation">(</span>obt<span class="token punctuation">.</span>fn<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 20</span>
</code></pre></div><p>è¾“å‡ºç»“æœï¼š 20  10  20</p> <p><strong>è§£æï¼š</strong></p> <ol><li>obt.fn()ï¼Œfnæ˜¯ç”±obtè°ƒç”¨çš„ï¼Œæ‰€ä»¥å…¶thisæŒ‡å‘obtå¯¹è±¡ï¼Œä¼šæ‰“å°å‡º20ï¼›</li> <li>obt.fn.call()ï¼Œè¿™é‡Œcallçš„å‚æ•°å•¥éƒ½æ²¡å†™ï¼Œå°±è¡¨ç¤ºnullï¼Œæˆ‘ä»¬çŸ¥é“å¦‚æœcallçš„å‚æ•°ä¸ºundefinedæˆ–nullï¼Œé‚£ä¹ˆthiså°±ä¼šæŒ‡å‘å…¨å±€å¯¹è±¡thisï¼Œæ‰€ä»¥ä¼šæ‰“å°å‡º 10ï¼›</li> <li>(obt.fn)()ï¼Œ è¿™é‡Œç»™è¡¨è¾¾å¼åŠ äº†æ‹¬å·ï¼Œè€Œæ‹¬å·çš„ä½œç”¨æ˜¯æ”¹å˜è¡¨è¾¾å¼çš„è¿ç®—é¡ºåºï¼Œè€Œåœ¨è¿™é‡ŒåŠ ä¸ä¸åŠ æ‹¬å·å¹¶æ— å½±å“ï¼›ç›¸å½“äº  obt.fn()ï¼Œæ‰€ä»¥ä¼šæ‰“å°å‡º 20ï¼›</li></ol> <h3 id="_13-ä»£ç è¾“å‡ºç»“æœ-2"><a href="#_13-ä»£ç è¾“å‡ºç»“æœ-2" class="header-anchor">#</a> 13. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token parameter">xx</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> xx<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>x<span class="token punctuation">)</span>  <span class="token comment">// undefined</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>y<span class="token punctuation">.</span>x<span class="token punctuation">)</span>  <span class="token comment">// 6</span>
</code></pre></div><p>è¾“å‡ºç»“æœï¼š undefined  6</p> <p><strong>è§£æï¼š</strong></p> <ol><li>æœ€å…³é”®çš„å°±æ˜¯var x = a(5)ï¼Œå‡½æ•°aæ˜¯åœ¨å…¨å±€ä½œç”¨åŸŸè°ƒç”¨ï¼Œæ‰€ä»¥å‡½æ•°å†…éƒ¨çš„thisæŒ‡å‘windowå¯¹è±¡ã€‚**æ‰€ä»¥ this.x = 5 å°±ç›¸å½“äºï¼šwindow.x = 5ã€‚**ä¹‹å return thisï¼Œä¹Ÿå°±æ˜¯è¯´ var x = a(5) ä¸­çš„xå˜é‡çš„å€¼æ˜¯windowï¼Œè¿™é‡Œçš„xå°†å‡½æ•°å†…éƒ¨çš„xçš„å€¼è¦†ç›–äº†ã€‚ç„¶åæ‰§è¡Œconsole.log(x.x)ï¼Œ ä¹Ÿå°±æ˜¯console.log(window.x)ï¼Œè€Œwindowå¯¹è±¡ä¸­æ²¡æœ‰xå±æ€§ï¼Œæ‰€ä»¥ä¼šè¾“å‡ºundefinedã€‚</li> <li>å½“æŒ‡å‘y.xæ—¶ï¼Œä¼šç»™å…¨å±€å˜é‡ä¸­çš„xèµ‹å€¼ä¸º6ï¼Œæ‰€ä»¥ä¼šæ‰“å°å‡º6ã€‚</li></ol> <h3 id="_14-ä»£ç è¾“å‡ºç»“æœ-2"><a href="#_14-ä»£ç è¾“å‡ºç»“æœ-2" class="header-anchor">#</a> 14. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">something</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> something
<span class="token punctuation">}</span>

<span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">foo</span><span class="token operator">:</span> foo
<span class="token punctuation">}</span>

<span class="token keyword">var</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

obj1<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>

obj1<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj2<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj2<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>

<span class="token keyword">var</span> bar <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">obj1<span class="token punctuation">.</span>foo</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bar<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 4</span>
</code></pre></div><p>è¾“å‡ºç»“æœï¼š 2  3  2  4</p> <p><strong>è§£æï¼š</strong></p> <ol><li>é¦–å…ˆæ‰§è¡Œobj1.foo(2); ä¼šåœ¨objä¸­æ·»åŠ aå±æ€§ï¼Œå…¶å€¼ä¸º2ã€‚ä¹‹åæ‰§è¡Œobj1.aï¼Œaæ˜¯å³obj1è°ƒç”¨çš„ï¼Œæ‰€ä»¥thisæŒ‡å‘objï¼Œæ‰“å°å‡º2ï¼›</li> <li>æ‰§è¡Œ obj1.foo.call(obj2, 3) æ—¶ï¼Œä¼šå°†fooçš„thisæŒ‡å‘obj2ï¼Œåé¢å°±å’Œä¸Šé¢ä¸€æ ·äº†ï¼Œæ‰€ä»¥ä¼šæ‰“å°å‡º3ï¼›</li> <li>obj1.aä¼šæ‰“å°å‡º2ï¼›</li> <li>æœ€åå°±æ˜¯è€ƒå¯Ÿthisç»‘å®šçš„ä¼˜å…ˆçº§äº†ï¼Œnew ç»‘å®šæ˜¯æ¯”éšå¼ç»‘å®šä¼˜å…ˆçº§é«˜ï¼Œæ‰€ä»¥ä¼šè¾“å‡º4ã€‚</li></ol> <h3 id="_15-ä»£ç è¾“å‡ºç»“æœ-2"><a href="#_15-ä»£ç è¾“å‡ºç»“æœ-2" class="header-anchor">#</a> 15. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">something</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> something
<span class="token punctuation">}</span>

<span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">var</span> bar <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">bar</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>

<span class="token keyword">var</span> baz <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">bar</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>baz<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
</code></pre></div><p>è¾“å‡ºç»“æœï¼š 2  2  3</p> <p>è¿™é“é¢˜ç›®å’Œä¸Šé¢é¢˜ç›®å·®ä¸å¤šï¼Œä¸»è¦éƒ½æ˜¯è€ƒå¯Ÿthisç»‘å®šçš„ä¼˜å…ˆçº§ã€‚è®°ä½ä»¥ä¸‹ç»“è®ºå³å¯ï¼š**thisç»‘å®šçš„ä¼˜å…ˆçº§ï¼š**<strong>newç»‘å®š &gt; æ˜¾å¼ç»‘å®š &gt; éšå¼ç»‘å®š &gt; é»˜è®¤ç»‘å®šã€‚</strong></p> <h2 id="ä¸‰ã€ä½œç”¨åŸŸ-å˜é‡æå‡-é—­åŒ…"><a href="#ä¸‰ã€ä½œç”¨åŸŸ-å˜é‡æå‡-é—­åŒ…" class="header-anchor">#</a> ä¸‰ã€ä½œç”¨åŸŸ&amp;å˜é‡æå‡&amp;é—­åŒ…</h2> <h3 id="_1-ä»£ç è¾“å‡ºç»“æœ-3"><a href="#_1-ä»£ç è¾“å‡ºç»“æœ-3" class="header-anchor">#</a> 1. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token keyword">var</span> x <span class="token operator">=</span> y <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> z<span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Uncaught ReferenceError: x is not defined</span>
</code></pre></div><p>è¿™æ®µä»£ç çš„å…³é”®åœ¨äºï¼švar x = y = 1; å®é™…ä¸Šè¿™é‡Œæ˜¯ä»å³å¾€å·¦æ‰§è¡Œçš„ï¼Œé¦–å…ˆæ‰§è¡Œy = 1, å› ä¸ºyæ²¡æœ‰ä½¿ç”¨varå£°æ˜ï¼Œæ‰€ä»¥å®ƒæ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œç„¶åç¬¬äºŒæ­¥æ˜¯å°†yèµ‹å€¼ç»™xï¼Œè®²ä¸€ä¸ªå…¨å±€å˜é‡èµ‹å€¼ç»™äº†ä¸€ä¸ªå±€éƒ¨å˜é‡ï¼Œæœ€ç»ˆï¼Œxæ˜¯ä¸€ä¸ªå±€éƒ¨å˜é‡ï¼Œyæ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œæ‰€ä»¥æ‰“å°xæ˜¯æŠ¥é”™ã€‚</p> <h3 id="_2-ä»£ç è¾“å‡ºç»“æœ-3"><a href="#_2-ä»£ç è¾“å‡ºç»“æœ-3" class="header-anchor">#</a> 2. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a<span class="token punctuation">,</span> <span class="token function">b</span>
<span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">(</span>b <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>   
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>è¾“å‡ºç»“æœï¼š</p> <div class="language- extra-class"><pre class="language-text"><code>undefined 
undefined 
3 
3 
undefined 
3
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>undefined 
undefined 
3 
3 
undefined 
3
</code></pre></div><p>è¿™ä¸ªé¢˜ç›®å’Œä¸Šé¢é¢˜ç›®è€ƒå¯Ÿçš„çŸ¥è¯†ç‚¹ç±»ä¼¼ï¼Œbèµ‹å€¼ä¸º3ï¼Œbæ­¤æ—¶æ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œè€Œå°†3èµ‹å€¼ç»™aï¼Œaæ˜¯ä¸€ä¸ªå±€éƒ¨å˜é‡ï¼Œæ‰€ä»¥æœ€åæ‰“å°çš„æ—¶å€™ï¼Œaä»æ—§æ˜¯undefinedã€‚</p> <h3 id="_3-ä»£ç è¾“å‡ºç»“æœ-3"><a href="#_3-ä»£ç è¾“å‡ºç»“æœ-3" class="header-anchor">#</a> 3. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> friendName <span class="token operator">=</span> <span class="token string">'World'</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> friendName <span class="token operator">===</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> friendName <span class="token operator">=</span> <span class="token string">'Jack'</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Goodbye '</span> <span class="token operator">+</span> friendName<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Hello '</span> <span class="token operator">+</span> friendName<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>è¾“å‡ºç»“æœï¼šGoodbye Jack</p> <p>æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨ JavaScriptä¸­ï¼Œ Function å’Œ var éƒ½ä¼šè¢«æå‡ï¼ˆå˜é‡æå‡ï¼‰ï¼Œæ‰€ä»¥ä¸Šé¢çš„ä»£ç å°±ç›¸å½“äºï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">'World!'</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> name<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> name <span class="token operator">===</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        name <span class="token operator">=</span> <span class="token string">'Jack'</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Goodbye '</span> <span class="token operator">+</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Hello '</span> <span class="token operator">+</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>è¿™æ ·ï¼Œç­”æ¡ˆå°±ä¸€ç›®äº†ç„¶äº†ã€‚</p> <h3 id="_4-ä»£ç è¾“å‡ºç»“æœ-3"><a href="#_4-ä»£ç è¾“å‡ºç»“æœ-3" class="header-anchor">#</a> 4. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'fn1'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> fn2
 
<span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
 
<span class="token function-variable function">fn2</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'fn2'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
 
<span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>è¾“å‡ºç»“æœï¼š</p> <div class="language- extra-class"><pre class="language-text"><code>fn1
Uncaught TypeError: fn2 is not a function
fn2
</code></pre></div><p>è¿™é‡Œä¹Ÿæ˜¯åœ¨è€ƒå¯Ÿå˜é‡æå‡ï¼Œå…³é”®åœ¨äºç¬¬ä¸€ä¸ªfn2()ï¼Œè¿™æ—¶fn2ä»æ˜¯ä¸€ä¸ªundefinedçš„å˜é‡ï¼Œæ‰€ä»¥ä¼šæŠ¥é”™fn2ä¸æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚</p> <h3 id="_5-ä»£ç è¾“å‡ºç»“æœ-2"><a href="#_5-ä»£ç è¾“å‡ºç»“æœ-2" class="header-anchor">#</a> 5. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> temp <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
    <span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 10</span>
    <span class="token punctuation">}</span>
    <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> temp <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
    <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æŠ¥é”™ Uncaught ReferenceError: temp is not defined</span>
<span class="token punctuation">}</span>
<span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>åœ¨ä¸Šé¢çš„ä¸¤æ®µä»£ç ä¸­ï¼Œç¬¬ä¸€æ®µæ˜¯å¯ä»¥æ­£å¸¸è¾“å‡ºï¼Œè¿™ä¸ªåº”è¯¥æ²¡å•¥é—®é¢˜ï¼Œå…³é”®åœ¨äºç¬¬äºŒæ®µä»£ç ï¼Œå®ƒä¼šæŠ¥é”™Uncaught ReferenceError: temp is not definedã€‚è¿™æ—¶å› ä¸ºåœ¨bæ–¹æ³•æ‰§è¡Œæ—¶ï¼Œtemp çš„å€¼ä¸ºundefinedã€‚</p> <h3 id="_6-ä»£ç è¾“å‡ºç»“æœ-3"><a href="#_6-ä»£ç è¾“å‡ºç»“æœ-3" class="header-anchor">#</a> 6. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token keyword">var</span> a<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">;</span>
 <span class="token keyword">function</span> <span class="token function">c</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> a<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">;</span>
  <span class="token function">c</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>jsä¸­å˜é‡çš„ä½œç”¨åŸŸé“¾ä¸å®šä¹‰æ—¶çš„ç¯å¢ƒæœ‰å…³ï¼Œä¸æ‰§è¡Œæ—¶æ— å…³ã€‚æ‰§è¡Œç¯å¢ƒåªä¼šæ”¹å˜thisã€ä¼ é€’çš„å‚æ•°ã€å…¨å±€å˜é‡ç­‰</p> <h3 id="_7-ä»£ç è¾“å‡ºé—®é¢˜"><a href="#_7-ä»£ç è¾“å‡ºé—®é¢˜" class="header-anchor">#</a> 7.  ä»£ç è¾“å‡ºé—®é¢˜</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token punctuation">,</span> o</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">fun</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">m</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token function">fun</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  a<span class="token punctuation">.</span><span class="token function">fun</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  a<span class="token punctuation">.</span><span class="token function">fun</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  a<span class="token punctuation">.</span><span class="token function">fun</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fun</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fun</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fun</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fun</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  c<span class="token punctuation">.</span><span class="token function">fun</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  c<span class="token punctuation">.</span><span class="token function">fun</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>è¾“å‡ºç»“æœï¼š</p> <div class="language- extra-class"><pre class="language-text"><code>undefined  0  0  0
undefined  0  1  2
undefined  0  1  1
</code></pre></div><p>è¿™æ˜¯ä¸€é“å…³äºé—­åŒ…çš„é¢˜ç›®ï¼Œå¯¹äºfunæ–¹æ³•ï¼Œè°ƒç”¨ä¹‹åè¿”å›çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œå½“è°ƒç”¨å‡½æ•°çš„æ—¶å€™ä¼ å…¥çš„å®å‚æ¯”å‡½æ•°å£°æ˜æ—¶æŒ‡å®šçš„å½¢å‚ä¸ªæ•°è¦å°‘ï¼Œå‰©ä¸‹çš„å½¢å‚éƒ½å°†è®¾ç½®ä¸ºundefinedå€¼ã€‚æ‰€ä»¥ <code>console.log(o);</code> ä¼šè¾“å‡ºundefinedã€‚è€Œaå°±æ˜¯æ˜¯fun(0)è¿”å›çš„é‚£ä¸ªå¯¹è±¡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå‡½æ•°funä¸­å‚æ•° n çš„å€¼æ˜¯0ï¼Œè€Œè¿”å›çš„é‚£ä¸ªå¯¹è±¡ä¸­ï¼Œéœ€è¦ä¸€ä¸ªå‚æ•°nï¼Œè€Œè¿™ä¸ªå¯¹è±¡çš„ä½œç”¨åŸŸä¸­æ²¡æœ‰nï¼Œå®ƒå°±ç»§ç»­æ²¿ç€ä½œç”¨åŸŸå‘ä¸Šä¸€çº§çš„ä½œç”¨åŸŸä¸­å¯»æ‰¾nï¼Œæœ€ååœ¨å‡½æ•°funä¸­æ‰¾åˆ°äº†nï¼Œnçš„å€¼æ˜¯0ã€‚äº†è§£äº†è¿™ä¸€ç‚¹ï¼Œå…¶ä»–è¿ç®—å°±å¾ˆç®€å•äº†ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p> <h3 id="_8-ä»£ç è¾“å‡ºç»“æœ-2"><a href="#_8-ä»£ç è¾“å‡ºç»“æœ-2" class="header-anchor">#</a> 8. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function-variable function">f</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>   
<span class="token function-variable function">g</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>   
<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   
   <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">g</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token operator">!</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   
      <span class="token function-variable function">f</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>   
      <span class="token keyword">function</span> <span class="token function">g</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">}</span>   
   <span class="token punctuation">}</span>   
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>è¾“å‡ºç»“æœï¼š false</p> <p>è¿™é‡Œé¦–å…ˆå®šä¹‰äº†ä¸¤ä¸ªå˜é‡få’Œgï¼Œæˆ‘ä»¬çŸ¥é“å˜é‡æ˜¯å¯ä»¥é‡æ–°èµ‹å€¼çš„ã€‚åé¢æ˜¯ä¸€ä¸ªåŒ¿åè‡ªæ‰§è¡Œå‡½æ•°ï¼Œåœ¨ if æ¡ä»¶ä¸­è°ƒç”¨äº†å‡½æ•° g()ï¼Œç”±äºåœ¨åŒ¿åå‡½æ•°ä¸­ï¼Œåˆé‡æ–°å®šä¹‰äº†å‡½æ•°gï¼Œå°±è¦†ç›–äº†å¤–éƒ¨å®šä¹‰çš„å˜é‡gï¼Œæ‰€ä»¥ï¼Œè¿™é‡Œè°ƒç”¨çš„æ˜¯å†…éƒ¨å‡½æ•° g æ–¹æ³•ï¼Œè¿”å›ä¸º trueã€‚ç¬¬ä¸€ä¸ªæ¡ä»¶é€šè¿‡ï¼Œè¿›å…¥ç¬¬äºŒä¸ªæ¡ä»¶ã€‚</p> <p>ç¬¬äºŒä¸ªæ¡ä»¶æ˜¯[] == ![]ï¼Œå…ˆçœ‹ ![] ï¼Œåœ¨ JavaScript ä¸­ï¼Œå½“ç”¨äºå¸ƒå°”è¿ç®—æ—¶ï¼Œæ¯”å¦‚åœ¨è¿™é‡Œï¼Œå¯¹è±¡çš„éç©ºå¼•ç”¨è¢«è§†ä¸º trueï¼Œç©ºå¼•ç”¨ null åˆ™è¢«è§†ä¸º falseã€‚ç”±äºè¿™é‡Œä¸æ˜¯ä¸€ä¸ª null, è€Œæ˜¯ä¸€ä¸ªæ²¡æœ‰å…ƒç´ çš„æ•°ç»„ï¼Œæ‰€ä»¥ [] è¢«è§†ä¸º true, è€Œ ![] çš„ç»“æœå°±æ˜¯ false äº†ã€‚å½“ä¸€ä¸ªå¸ƒå°”å€¼å‚ä¸åˆ°æ¡ä»¶è¿ç®—çš„æ—¶å€™ï¼Œtrue ä¼šè¢«çœ‹ä½œ 1, è€Œ false ä¼šè¢«çœ‹ä½œ 0ã€‚ç°åœ¨æ¡ä»¶å˜æˆäº† [] == 0 çš„é—®é¢˜äº†ï¼Œå½“ä¸€ä¸ªå¯¹è±¡å‚ä¸æ¡ä»¶æ¯”è¾ƒçš„æ—¶å€™ï¼Œå®ƒä¼šè¢«æ±‚å€¼ï¼Œæ±‚å€¼çš„ç»“æœæ˜¯æ•°ç»„æˆä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œ[] çš„ç»“æœå°±æ˜¯ '' ï¼Œè€Œ '' ä¼šè¢«å½“ä½œ 0 ï¼Œæ‰€ä»¥ï¼Œæ¡ä»¶æˆç«‹ã€‚</p> <p>ä¸¤ä¸ªæ¡ä»¶éƒ½æˆç«‹ï¼Œæ‰€ä»¥ä¼šæ‰§è¡Œæ¡ä»¶ä¸­çš„ä»£ç ï¼Œ f åœ¨å®šä¹‰æ˜¯æ²¡æœ‰ä½¿ç”¨varï¼Œæ‰€ä»¥ä»–æ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ã€‚å› æ­¤ï¼Œè¿™é‡Œä¼šé€šè¿‡é—­åŒ…è®¿é—®åˆ°å¤–éƒ¨çš„å˜é‡ f, é‡æ–°èµ‹å€¼ï¼Œç°åœ¨æ‰§è¡Œ f å‡½æ•°è¿”å›å€¼å·²ç»æˆä¸º false äº†ã€‚è€Œ g åˆ™ä¸ä¼šæœ‰è¿™ä¸ªé—®é¢˜ï¼Œè¿™é‡Œæ˜¯ä¸€ä¸ªå‡½æ•°å†…å®šä¹‰çš„ gï¼Œä¸ä¼šå½±å“åˆ°å¤–éƒ¨çš„ g å‡½æ•°ã€‚æ‰€ä»¥æœ€åçš„ç»“æœå°±æ˜¯ falseã€‚</p> <h2 id="å››ã€åŸå‹-ç»§æ‰¿"><a href="#å››ã€åŸå‹-ç»§æ‰¿" class="header-anchor">#</a> å››ã€åŸå‹&amp;ç»§æ‰¿</h2> <h3 id="_1-ä»£ç è¾“å‡ºç»“æœ-4"><a href="#_1-ä»£ç è¾“å‡ºç»“æœ-4" class="header-anchor">#</a> 1. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
<span class="token punctuation">}</span>
<span class="token keyword">var</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'king'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p2<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span> <span class="token comment">//Person.prototype</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p2<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span> <span class="token comment">//Object.prototype</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p2<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span> <span class="token comment">// null</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p2<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span><span class="token comment">//nullåé¢æ²¡æœ‰äº†ï¼ŒæŠ¥é”™</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p2<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span><span class="token comment">//nullåé¢æ²¡æœ‰äº†ï¼ŒæŠ¥é”™</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p2<span class="token punctuation">.</span>constructor<span class="token punctuation">)</span><span class="token comment">//Person</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p2<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token comment">//undefined p2æ˜¯å®ä¾‹ï¼Œæ²¡æœ‰prototypeå±æ€§</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token punctuation">.</span>constructor<span class="token punctuation">)</span><span class="token comment">//Function ä¸€ä¸ªç©ºå‡½æ•°</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token comment">//æ‰“å°å‡ºPerson.prototypeè¿™ä¸ªå¯¹è±¡é‡Œæ‰€æœ‰çš„æ–¹æ³•å’Œå±æ€§</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor<span class="token punctuation">)</span><span class="token comment">//Person</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span><span class="token comment">// Object.prototype</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Person<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span> <span class="token comment">//Function.prototype</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span><span class="token comment">//Object.prototype</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Function<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span><span class="token comment">//Function.prototype</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span><span class="token comment">//Function.prototype</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span><span class="token comment">//null</span>
</code></pre></div><p>è¿™é“ä¹‰é¢˜ç›®è€ƒå¯ŸåŸå‹ã€åŸå‹é“¾çš„åŸºç¡€ï¼Œè®°ä½å°±å¯ä»¥äº†ã€‚</p> <h3 id="_2-ä»£ç è¾“å‡ºç»“æœ-4"><a href="#_2-ä»£ç è¾“å‡ºç»“æœ-4" class="header-anchor">#</a> 2. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// a</span>
<span class="token keyword">function</span> <span class="token function">Foo</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// b</span>
Foo<span class="token punctuation">.</span><span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// c</span>
<span class="token class-name">Foo</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// d</span>
<span class="token keyword">var</span> <span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// e</span>
<span class="token keyword">function</span> <span class="token function">getName</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

Foo<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">// 2</span>
<span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token comment">// 4</span>
<span class="token function">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">// 1</span>
<span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token comment">// 1 </span>
<span class="token keyword">new</span> <span class="token class-name">Foo<span class="token punctuation">.</span>getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// 2</span>
<span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// 3</span>
<span class="token keyword">new</span> <span class="token class-name">new</span> <span class="token function">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
</code></pre></div><p>è¾“å‡ºç»“æœï¼š2  4  1  1  2  3  3</p> <p><strong>è§£æï¼š</strong></p> <ol><li>**Foo.getName()ï¼Œ**Fooä¸ºä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼Œå¯¹è±¡éƒ½å¯ä»¥æœ‰å±æ€§ï¼Œb å¤„å®šä¹‰Fooçš„getNameå±æ€§ä¸ºå‡½æ•°ï¼Œè¾“å‡º2ï¼›</li> <li>**getName()ï¼Œ**è¿™é‡Œçœ‹dã€eå¤„ï¼Œdä¸ºå‡½æ•°è¡¨è¾¾å¼ï¼Œeä¸ºå‡½æ•°å£°æ˜ï¼Œä¸¤è€…åŒºåˆ«åœ¨äºå˜é‡æå‡ï¼Œå‡½æ•°å£°æ˜çš„ 5 ä¼šè¢«åè¾¹å‡½æ•°è¡¨è¾¾å¼çš„ 4 è¦†ç›–ï¼›</li> <li>**Foo().getName()ï¼Œ**è¿™é‡Œè¦çœ‹aå¤„ï¼Œåœ¨Fooå†…éƒ¨å°†å…¨å±€çš„getNameé‡æ–°èµ‹å€¼ä¸º console.log(1) çš„å‡½æ•°ï¼Œæ‰§è¡ŒFoo()è¿”å› thisï¼Œè¿™ä¸ªthisæŒ‡å‘windowï¼ŒFoo().getName() å³ä¸ºwindow.getName()ï¼Œè¾“å‡º 1ï¼›</li> <li>**getName()ï¼Œ**ä¸Šé¢3ä¸­ï¼Œå…¨å±€çš„getNameå·²ç»è¢«é‡æ–°èµ‹å€¼ï¼Œæ‰€ä»¥è¿™é‡Œä¾ç„¶è¾“å‡º 1ï¼›</li> <li>**new Foo.getName()ï¼Œ**è¿™é‡Œç­‰ä»·äº new (Foo.getName())ï¼Œå…ˆæ‰§è¡Œ Foo.getName()ï¼Œè¾“å‡º 2ï¼Œç„¶ånewä¸€ä¸ªå®ä¾‹ï¼›</li> <li>**new Foo().getName()ï¼Œ**è¿™é‡Œç­‰ä»·äº (new Foo()).getName(), å…ˆnewä¸€ä¸ªFooçš„å®ä¾‹ï¼Œå†æ‰§è¡Œè¿™ä¸ªå®ä¾‹çš„getNameæ–¹æ³•ï¼Œä½†æ˜¯è¿™ä¸ªå®ä¾‹æœ¬èº«æ²¡æœ‰è¿™ä¸ªæ–¹æ³•ï¼Œæ‰€ä»¥å»åŸå‹é“¾__protot__ä¸Šè¾¹æ‰¾ï¼Œå®ä¾‹.<strong>protot</strong> === Foo.prototypeï¼Œæ‰€ä»¥è¾“å‡º 3ï¼›</li> <li>**new new Foo().getName()ï¼Œ**è¿™é‡Œç­‰ä»·äºnew (new Foo().getName())ï¼Œå¦‚ä¸Šè¿°6ï¼Œå…ˆè¾“å‡º 3ï¼Œç„¶ånew ä¸€ä¸ª new Foo().getName() çš„å®ä¾‹ã€‚</li></ol> <h3 id="_3-ä»£ç è¾“å‡ºç»“æœ-4"><a href="#_3-ä»£ç è¾“å‡ºç»“æœ-4" class="header-anchor">#</a> 3. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token function-variable function">F</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">a</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">b</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> f <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
f<span class="token punctuation">.</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
f<span class="token punctuation">.</span><span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token constant">F</span><span class="token punctuation">.</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token constant">F</span><span class="token punctuation">.</span><span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>è¾“å‡ºç»“æœï¼š</p> <div class="language- extra-class"><pre class="language-text"><code>a
Uncaught TypeError: f.b is not a function
a
b
</code></pre></div><p><strong>è§£æï¼š</strong></p> <ol><li>f å¹¶ä¸æ˜¯ Function çš„å®ä¾‹ï¼Œå› ä¸ºå®ƒæœ¬æ¥å°±ä¸æ˜¯æ„é€ å‡½æ•°ï¼Œè°ƒç”¨çš„æ˜¯ Function åŸå‹é“¾ä¸Šçš„ç›¸å…³å±æ€§å’Œæ–¹æ³•ï¼Œåªèƒ½è®¿é—®åˆ° Object åŸå‹é“¾ã€‚æ‰€ä»¥ f.a() è¾“å‡º a  ï¼Œè€Œ f.b() å°±æŠ¥é”™äº†ã€‚</li> <li>F æ˜¯ä¸ªæ„é€ å‡½æ•°ï¼Œè€Œ F æ˜¯æ„é€ å‡½æ•° Function çš„ä¸€ä¸ªå®ä¾‹ã€‚å› ä¸º F instanceof  Object === trueï¼ŒF instanceof Function === trueï¼Œç”±æ­¤å¯ä»¥å¾—å‡ºç»“è®ºï¼šF æ˜¯ Object å’Œ Function ä¸¤ä¸ªçš„å®ä¾‹ï¼Œå³ F èƒ½è®¿é—®åˆ° aï¼Œ ä¹Ÿèƒ½è®¿é—®åˆ° bã€‚æ‰€ä»¥ F.a() è¾“å‡º a ï¼ŒF.b() è¾“å‡º bã€‚</li></ol> <h3 id="_4-ä»£ç è¾“å‡ºç»“æœ-4"><a href="#_4-ä»£ç è¾“å‡ºç»“æœ-4" class="header-anchor">#</a> 4. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    Foo<span class="token punctuation">.</span><span class="token function-variable function">a</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">a</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token class-name">Foo</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">a</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

Foo<span class="token punctuation">.</span><span class="token function-variable function">a</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

Foo<span class="token punctuation">.</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Foo<span class="token punctuation">.</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>è¾“å‡ºç»“æœï¼š4 2 1</p> <p><strong>è§£æï¼š</strong></p> <ol><li>Foo.a() è¿™ä¸ªæ˜¯è°ƒç”¨ Foo å‡½æ•°çš„é™æ€æ–¹æ³• aï¼Œè™½ç„¶ Foo ä¸­æœ‰ä¼˜å…ˆçº§æ›´é«˜çš„å±æ€§æ–¹æ³• aï¼Œä½† Foo æ­¤æ—¶æ²¡æœ‰è¢«è°ƒç”¨ï¼Œæ‰€ä»¥æ­¤æ—¶è¾“å‡º Foo çš„é™æ€æ–¹æ³• a çš„ç»“æœï¼š4</li> <li>let obj = new Foo(); ä½¿ç”¨äº† new æ–¹æ³•è°ƒç”¨äº†å‡½æ•°ï¼Œè¿”å›äº†å‡½æ•°å®ä¾‹å¯¹è±¡ï¼Œæ­¤æ—¶ Foo å‡½æ•°å†…éƒ¨çš„å±æ€§æ–¹æ³•åˆå§‹åŒ–ï¼ŒåŸå‹é“¾å»ºç«‹ã€‚</li> <li>obj.a() ; è°ƒç”¨ obj å®ä¾‹ä¸Šçš„æ–¹æ³• aï¼Œè¯¥å®ä¾‹ä¸Šç›®å‰æœ‰ä¸¤ä¸ª a æ–¹æ³•ï¼šä¸€ä¸ªæ˜¯å†…éƒ¨å±æ€§æ–¹æ³•ï¼Œå¦ä¸€ä¸ªæ˜¯åŸå‹ä¸Šçš„æ–¹æ³•ã€‚å½“è¿™ä¸¤è€…éƒ½å­˜åœ¨æ—¶ï¼Œé¦–å…ˆæŸ¥æ‰¾ ownProperty ï¼Œå¦‚æœæ²¡æœ‰æ‰å»åŸå‹é“¾ä¸Šæ‰¾ï¼Œæ‰€ä»¥è°ƒç”¨å®ä¾‹ä¸Šçš„ a è¾“å‡ºï¼š2</li> <li>Foo.a() ; æ ¹æ®ç¬¬2æ­¥å¯çŸ¥ Foo å‡½æ•°å†…éƒ¨çš„å±æ€§æ–¹æ³•å·²åˆå§‹åŒ–ï¼Œè¦†ç›–äº†åŒåçš„é™æ€æ–¹æ³•ï¼Œæ‰€ä»¥è¾“å‡ºï¼š1</li></ol> <h3 id="_5-ä»£ç è¾“å‡ºç»“æœ-3"><a href="#_5-ä»£ç è¾“å‡ºç»“æœ-3" class="header-anchor">#</a> 5. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'puppy'</span>
<span class="token punctuation">}</span>
<span class="token class-name">Dog</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">bark</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'woof!woof!'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> dog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Dog</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Dog <span class="token operator">&amp;&amp;</span> dog<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Dog <span class="token operator">&amp;&amp;</span> dog <span class="token keyword">instanceof</span> <span class="token class-name">Dog</span><span class="token punctuation">)</span>
</code></pre></div><p>è¾“å‡ºç»“æœï¼štrue</p> <p><strong>è§£æï¼š</strong></p> <p>å› ä¸ºconstructoræ˜¯prototypeä¸Šçš„å±æ€§ï¼Œæ‰€ä»¥dog.constructorå®é™…ä¸Šå°±æ˜¯æŒ‡å‘Dog.prototype.constructorï¼›constructorå±æ€§æŒ‡å‘æ„é€ å‡½æ•°ã€‚instanceofè€Œå®é™…æ£€æµ‹çš„æ˜¯ç±»å‹æ˜¯å¦åœ¨å®ä¾‹çš„åŸå‹é“¾ä¸Šã€‚</p> <p>constructoræ˜¯prototypeä¸Šçš„å±æ€§ï¼Œè¿™ä¸€ç‚¹å¾ˆå®¹æ˜“è¢«å¿½ç•¥æ‰ã€‚constructorå’Œinstanceof çš„ä½œç”¨æ˜¯ä¸åŒçš„ï¼Œæ„Ÿæ€§åœ°æ¥è¯´ï¼Œconstructorçš„é™åˆ¶æ¯”è¾ƒä¸¥æ ¼ï¼Œå®ƒåªèƒ½ä¸¥æ ¼å¯¹æ¯”å¯¹è±¡çš„æ„é€ å‡½æ•°æ˜¯ä¸æ˜¯æŒ‡å®šçš„å€¼ï¼›è€Œinstanceofæ¯”è¾ƒæ¾æ•£ï¼Œåªè¦æ£€æµ‹çš„ç±»å‹åœ¨åŸå‹é“¾ä¸Šï¼Œå°±ä¼šè¿”å›trueã€‚</p> <h3 id="_6-ä»£ç è¾“å‡ºç»“æœ-4"><a href="#_6-ä»£ç è¾“å‡ºç»“æœ-4" class="header-anchor">#</a> 6. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token constant">A</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">n</span><span class="token operator">:</span> <span class="token number">4399</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token function-variable function">B</span> <span class="token operator">=</span>  <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>n <span class="token operator">=</span> <span class="token number">9999</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token function-variable function">C</span> <span class="token operator">=</span>  <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> n <span class="token operator">=</span> <span class="token number">8888</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">B</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token constant">A</span><span class="token punctuation">;</span>
<span class="token class-name">C</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token constant">A</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">C</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token constant">A</span><span class="token punctuation">.</span>n<span class="token operator">++</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>è¾“å‡ºç»“æœï¼š9999  4400</p> <p><strong>è§£æï¼š</strong></p> <ol><li>console.log(b.n)ï¼Œåœ¨æŸ¥æ‰¾b.næ˜¯é¦–å…ˆæŸ¥æ‰¾ b å¯¹è±¡è‡ªèº«æœ‰æ²¡æœ‰ n å±æ€§ï¼Œå¦‚æœæ²¡æœ‰ä¼šå»åŸå‹ï¼ˆprototypeï¼‰ä¸ŠæŸ¥æ‰¾ï¼Œå½“æ‰§è¡Œvar b = new B()æ—¶ï¼Œå‡½æ•°å†…éƒ¨this.n=9999(æ­¤æ—¶thisæŒ‡å‘ b) è¿”å›bå¯¹è±¡ï¼Œbå¯¹è±¡æœ‰è‡ªèº«çš„nå±æ€§ï¼Œæ‰€ä»¥è¿”å› 9999ã€‚</li> <li>console.log(c.n)ï¼ŒåŒç†ï¼Œå½“æ‰§è¡Œvar c = new C()æ—¶ï¼Œcå¯¹è±¡æ²¡æœ‰è‡ªèº«çš„nå±æ€§ï¼Œå‘ä¸ŠæŸ¥æ‰¾ï¼Œæ‰¾åˆ°åŸå‹ ï¼ˆprototypeï¼‰ä¸Šçš„ n å±æ€§ï¼Œå› ä¸º A.n++(æ­¤æ—¶å¯¹è±¡Aä¸­çš„nä¸º4400)ï¼Œ æ‰€ä»¥è¿”å›4400ã€‚</li></ol> <h3 id="_7-ä»£ç è¾“å‡ºé—®é¢˜-2"><a href="#_7-ä»£ç è¾“å‡ºé—®é¢˜-2" class="header-anchor">#</a> 7. ä»£ç è¾“å‡ºé—®é¢˜</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token constant">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token constant">B</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
ã€€ã€€<span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> a<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token constant">C</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
ã€€ã€€<span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> a<span class="token punctuation">;</span>
ã€€ã€€<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token class-name">A</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token class-name">B</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token class-name">C</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
 
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">C</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>è¾“å‡ºç»“æœï¼š1  undefined  2</p> <p><strong>è§£æï¼š</strong></p> <ol><li>console.log(new A().a)ï¼Œnew A()ä¸ºæ„é€ å‡½æ•°åˆ›å»ºçš„å¯¹è±¡ï¼Œæœ¬èº«æ²¡æœ‰aå±æ€§ï¼Œæ‰€ä»¥å‘å®ƒçš„åŸå‹å»æ‰¾ï¼Œå‘ç°åŸå‹çš„aå±æ€§çš„å±æ€§å€¼ä¸º1ï¼Œæ•…è¯¥è¾“å‡ºå€¼ä¸º1ï¼›</li> <li>console.log(new B().a)ï¼Œew B()ä¸ºæ„é€ å‡½æ•°åˆ›å»ºçš„å¯¹è±¡ï¼Œè¯¥æ„é€ å‡½æ•°æœ‰å‚æ•°aï¼Œä½†è¯¥å¯¹è±¡æ²¡æœ‰ä¼ å‚ï¼Œæ•…è¯¥è¾“å‡ºå€¼ä¸ºundefined;</li> <li>console.log(new C(2).a)ï¼Œnew C()ä¸ºæ„é€ å‡½æ•°åˆ›å»ºçš„å¯¹è±¡ï¼Œè¯¥æ„é€ å‡½æ•°æœ‰å‚æ•°aï¼Œä¸”ä¼ çš„å®å‚ä¸º2ï¼Œæ‰§è¡Œå‡½æ•°å†…éƒ¨ï¼Œå‘ç°ifä¸ºçœŸï¼Œæ‰§è¡Œthis.a = 2,æ•…å±æ€§açš„å€¼ä¸º2ã€‚</li></ol> <h3 id="_8-ä»£ç è¾“å‡ºé—®é¢˜-2"><a href="#_8-ä»£ç è¾“å‡ºé—®é¢˜-2" class="header-anchor">#</a> 8 ä»£ç è¾“å‡ºé—®é¢˜</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>c <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">demo</span><span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">show</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>b <span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>c<span class="token punctuation">.</span>demo <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">Child</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">change</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>b<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>b<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>c<span class="token punctuation">.</span>demo <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token class-name">Child</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> parent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> child1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> child2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
child1<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span>
child2<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span>
parent<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
child1<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
child2<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
child1<span class="token punctuation">.</span><span class="token function">change</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
child2<span class="token punctuation">.</span><span class="token function">change</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
parent<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
child1<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
child2<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>è¾“å‡ºç»“æœï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>parent<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1  [1,2,1] 5</span>

child1<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 11 [1,2,1] 5</span>
child2<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 12 [1,2,1] 5</span>

parent<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1 [1,2,1] 5</span>

child1<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5 [1,2,1,11,12] 5</span>

child2<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 6 [1,2,1,11,12] 5</span>
</code></pre></div><p>è¿™é“é¢˜ç›®å€¼å¾—ç¥å¸ï¼Œä»–æ¶‰åŠåˆ°çš„çŸ¥è¯†ç‚¹å¾ˆå¤šï¼Œä¾‹å¦‚<strong>thisçš„æŒ‡å‘ã€åŸå‹ã€åŸå‹é“¾ã€ç±»çš„ç»§æ‰¿ã€æ•°æ®ç±»å‹</strong>ç­‰ã€‚</p> <p><strong>è§£æ</strong>**ï¼š**</p> <ol><li>parent.show()ï¼Œå¯ä»¥ç›´æ¥è·å¾—æ‰€éœ€çš„å€¼ï¼Œæ²¡å•¥å¥½è¯´çš„ï¼›</li> <li>child1.show()ï¼Œ<code>Child</code>çš„æ„é€ å‡½æ•°åŸæœ¬æ˜¯æŒ‡å‘<code>Child</code>çš„ï¼Œé¢˜ç›®æ˜¾å¼å°†<code>Child</code>ç±»çš„åŸå‹å¯¹è±¡æŒ‡å‘äº†<code>Parent</code>ç±»çš„ä¸€ä¸ªå®ä¾‹ï¼Œéœ€è¦æ³¨æ„<code>Child.prototype</code>æŒ‡å‘çš„æ˜¯<code>Parent</code>çš„å®ä¾‹<code>parent</code>ï¼Œè€Œä¸æ˜¯æŒ‡å‘<code>Parent</code>è¿™ä¸ªç±»ã€‚</li> <li>child2.show()ï¼Œè¿™ä¸ªä¹Ÿæ²¡å•¥å¥½è¯´çš„ï¼›</li> <li>parent.show()ï¼Œ<code>parent</code>æ˜¯ä¸€ä¸ª<code>Parent</code>ç±»çš„å®ä¾‹ï¼Œ<code>Child.prorotype</code>æŒ‡å‘çš„æ˜¯<code>Parent</code>ç±»çš„å¦ä¸€ä¸ªå®ä¾‹ï¼Œä¸¤è€…åœ¨å †å†…å­˜ä¸­äº’ä¸å½±å“ï¼Œæ‰€ä»¥ä¸Šè¿°æ“ä½œä¸å½±å“<code>parent</code>å®ä¾‹ï¼Œæ‰€ä»¥è¾“å‡ºç»“æœä¸å˜ï¼›</li> <li>child1.show()ï¼Œ<code>child1</code>æ‰§è¡Œäº†<code>change()</code>æ–¹æ³•åï¼Œå‘ç”Ÿäº†æ€æ ·çš„å˜åŒ–å‘¢?</li></ol> <ul><li><strong>this.b.push(this.a)ï¼Œ<strong>ç”±äºthisçš„åŠ¨æ€æŒ‡å‘ç‰¹æ€§ï¼Œthis.bä¼šæŒ‡å‘<code>Child.prototype</code>ä¸Šçš„</strong>b</strong>æ•°ç»„,this.aä¼šæŒ‡å‘<code>child1</code>çš„<strong>a</strong>å±æ€§,æ‰€ä»¥<code>Child.prototype.b</code>å˜æˆäº†**[1,2,1,11]**;</li> <li><strong>this.a = this.b.lengthï¼Œ<strong>è¿™æ¡è¯­å¥ä¸­<code>this.a</code>å’Œ<code>this.b</code>çš„æŒ‡å‘ä¸ä¸Šä¸€å¥ä¸€è‡´ï¼Œæ•…ç»“æœä¸º<code>child1.a</code>å˜ä¸º</strong>4</strong>;</li> <li><strong>this.c.demo = this.a++ï¼Œ<strong>ç”±äº<code>child1</code>è‡ªèº«å±æ€§å¹¶æ²¡æœ‰</strong>c</strong>è¿™ä¸ªå±æ€§ï¼Œæ‰€ä»¥æ­¤å¤„çš„<code>this.c</code>ä¼šæŒ‡å‘<code>Child.prototype.c</code>ï¼Œ<code>this.a</code>å€¼ä¸º<strong>4</strong>ï¼Œä¸ºåŸå§‹ç±»å‹ï¼Œæ•…èµ‹å€¼æ“ä½œæ—¶ä¼šç›´æ¥èµ‹å€¼ï¼Œ<code>Child.prototype.c.demo</code>çš„ç»“æœä¸º<strong>4</strong>ï¼Œè€Œ<code>this.a</code>éšåè‡ªå¢ä¸º<strong>5(4 + 1 = 5)ã€‚</strong></li></ul> <ol><li><code>child2</code>æ‰§è¡Œäº†<code>change()</code>æ–¹æ³•, è€Œ<code>child2</code>å’Œ<code>child1</code>å‡æ˜¯<code>Child</code>ç±»çš„å®ä¾‹ï¼Œæ‰€ä»¥ä»–ä»¬çš„åŸå‹é“¾æŒ‡å‘åŒä¸€ä¸ªåŸå‹å¯¹è±¡<code>Child.prototype</code>,ä¹Ÿå°±æ˜¯åŒä¸€ä¸ª<code>parent</code>å®ä¾‹ï¼Œæ‰€ä»¥<code>child2.change()</code>ä¸­æ‰€æœ‰å½±å“åˆ°åŸå‹å¯¹è±¡çš„è¯­å¥éƒ½ä¼šå½±å“<code>child1</code>çš„æœ€ç»ˆè¾“å‡ºç»“æœã€‚</li></ol> <ul><li><strong>this.b.push(this.a)ï¼Œ<strong>ç”±äºthisçš„åŠ¨æ€æŒ‡å‘ç‰¹æ€§ï¼Œthis.bä¼šæŒ‡å‘<code>Child.prototype</code>ä¸Šçš„</strong>b</strong>æ•°ç»„,this.aä¼šæŒ‡å‘<code>child2</code>çš„<strong>a</strong>å±æ€§,æ‰€ä»¥<code>Child.prototype.b</code>å˜æˆäº†**[1,2,1,11,12]**;</li> <li><strong>this.a = this.b.lengthï¼Œ<strong>è¿™æ¡è¯­å¥ä¸­<code>this.a</code>å’Œ<code>this.b</code>çš„æŒ‡å‘ä¸ä¸Šä¸€å¥ä¸€è‡´ï¼Œæ•…ç»“æœä¸º<code>child2.a</code>å˜ä¸º</strong>5</strong>;</li> <li><strong>this.c.demo = this.a++ï¼Œ<strong>ç”±äº<code>child2</code>è‡ªèº«å±æ€§å¹¶æ²¡æœ‰</strong>c</strong>è¿™ä¸ªå±æ€§ï¼Œæ‰€ä»¥æ­¤å¤„çš„<code>this.c</code>ä¼šæŒ‡å‘<code>Child.prototype.c</code>ï¼Œæ•…æ‰§è¡Œç»“æœä¸º<code>Child.prototype.c.demo</code>çš„å€¼å˜ä¸º<code>child2.a</code>çš„å€¼<strong>5</strong>ï¼Œè€Œ<code>child2.a</code>æœ€ç»ˆè‡ªå¢ä¸º<strong>6(5 + 1 = 6)ã€‚</strong></li></ul> <h3 id="_9-ä»£ç è¾“å‡ºç»“æœ-3"><a href="#_9-ä»£ç è¾“å‡ºç»“æœ-3" class="header-anchor">#</a> 9. ä»£ç è¾“å‡ºç»“æœ</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">SuperType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>property <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">SuperType</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getSuperValue</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>property<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">SubType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>subproperty <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">SubType</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SuperType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">SubType</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getSubValue</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>subproperty<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SubType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>instance<span class="token punctuation">.</span><span class="token function">getSuperValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>è¾“å‡ºç»“æœï¼štrue</p> <p>å®é™…ä¸Šï¼Œè¿™æ®µä»£ç å°±æ˜¯åœ¨å®ç°åŸå‹é“¾ç»§æ‰¿ï¼ŒSubTypeç»§æ‰¿äº†SuperTypeï¼Œæœ¬è´¨æ˜¯é‡å†™äº†SubTypeçš„åŸå‹å¯¹è±¡ï¼Œä»£ä¹‹ä»¥ä¸€ä¸ªæ–°ç±»å‹çš„å®ä¾‹ã€‚SubTypeçš„åŸå‹è¢«é‡å†™äº†ï¼Œæ‰€ä»¥instance.constructoræŒ‡å‘çš„æ˜¯SuperTypeã€‚å…·ä½“å¦‚ä¸‹ï¼š</p> <p><img src="http://r9cclbbs3.hn-bkt.clouddn.com/20220212163354.png" alt="image.png"></p></div></section> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/Front-end-notes/offerShare/10.html" class="prev">
            ğŸ“»10 offeræ”¶å‰²æœºä¹‹æ‰‹å†™ä»£ç ç¯‡
          </a></span> <span class="next"><a href="/Front-end-notes/offerShare/12.html">
            ğŸ“¦12 LeetCodeé¢è¯•å¸¸è€ƒé¢˜ç›®
          </a></span></p></div> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-cb1513f6><li class="level-2" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#å»ºè®®æœ‰æ—¶é—´æˆ–è€…æ ¡æ‹›è¦åšç¬”è¯•çš„åŒå­¦çœ‹ä¸‹-ç¤¾æ‹›åŸºæœ¬åªéœ€è¦çœ‹çœ‹äº‹ä»¶å¾ªç¯çš„é¢˜ç›®" class="sidebar-link reco-side-å»ºè®®æœ‰æ—¶é—´æˆ–è€…æ ¡æ‹›è¦åšç¬”è¯•çš„åŒå­¦çœ‹ä¸‹-ç¤¾æ‹›åŸºæœ¬åªéœ€è¦çœ‹çœ‹äº‹ä»¶å¾ªç¯çš„é¢˜ç›®" data-v-cb1513f6>å»ºè®®æœ‰æ—¶é—´æˆ–è€…æ ¡æ‹›è¦åšç¬”è¯•çš„åŒå­¦çœ‹ä¸‹ ç¤¾æ‹›åŸºæœ¬åªéœ€è¦çœ‹çœ‹äº‹ä»¶å¾ªç¯çš„é¢˜ç›®</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#å‰è¨€" class="sidebar-link reco-side-å‰è¨€" data-v-cb1513f6>å‰è¨€ï¼š</a></li><li class="level-2" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#ä¸€ã€å¼‚æ­¥-äº‹ä»¶å¾ªç¯" class="sidebar-link reco-side-ä¸€ã€å¼‚æ­¥-äº‹ä»¶å¾ªç¯" data-v-cb1513f6>ä¸€ã€å¼‚æ­¥&amp;äº‹ä»¶å¾ªç¯</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_1-ä»£ç è¾“å‡ºç»“æœ" class="sidebar-link reco-side-_1-ä»£ç è¾“å‡ºç»“æœ" data-v-cb1513f6>1. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_2-ä»£ç è¾“å‡ºç»“æœ" class="sidebar-link reco-side-_2-ä»£ç è¾“å‡ºç»“æœ" data-v-cb1513f6>2. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_3-ä»£ç è¾“å‡ºç»“æœ" class="sidebar-link reco-side-_3-ä»£ç è¾“å‡ºç»“æœ" data-v-cb1513f6>3. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_4-ä»£ç è¾“å‡ºç»“æœ" class="sidebar-link reco-side-_4-ä»£ç è¾“å‡ºç»“æœ" data-v-cb1513f6>4. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_5-ä»£ç è¾“å‡ºç»“æœ" class="sidebar-link reco-side-_5-ä»£ç è¾“å‡ºç»“æœ" data-v-cb1513f6>5. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_6-ä»£ç è¾“å‡ºç»“æœ" class="sidebar-link reco-side-_6-ä»£ç è¾“å‡ºç»“æœ" data-v-cb1513f6>6. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_7-ä»£ç è¾“å‡ºç»“æœ" class="sidebar-link reco-side-_7-ä»£ç è¾“å‡ºç»“æœ" data-v-cb1513f6>7. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_8-ä»£ç è¾“å‡ºç»“æœ" class="sidebar-link reco-side-_8-ä»£ç è¾“å‡ºç»“æœ" data-v-cb1513f6>8. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_9-ä»£ç è¾“å‡ºç»“æœ" class="sidebar-link reco-side-_9-ä»£ç è¾“å‡ºç»“æœ" data-v-cb1513f6>9. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_10-ä»£ç è¾“å‡ºç»“æœ" class="sidebar-link reco-side-_10-ä»£ç è¾“å‡ºç»“æœ" data-v-cb1513f6>10. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_11-ä»£ç è¾“å‡ºç»“æœ" class="sidebar-link reco-side-_11-ä»£ç è¾“å‡ºç»“æœ" data-v-cb1513f6>11. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_12-ä»£ç è¾“å‡ºç»“æœ" class="sidebar-link reco-side-_12-ä»£ç è¾“å‡ºç»“æœ" data-v-cb1513f6>12. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_13-ä»£ç è¾“å‡ºç»“æœ" class="sidebar-link reco-side-_13-ä»£ç è¾“å‡ºç»“æœ" data-v-cb1513f6>13. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_14-ä»£ç è¾“å‡ºç»“æœ" class="sidebar-link reco-side-_14-ä»£ç è¾“å‡ºç»“æœ" data-v-cb1513f6>14. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_15-ä»£ç è¾“å‡ºç»“æœ" class="sidebar-link reco-side-_15-ä»£ç è¾“å‡ºç»“æœ" data-v-cb1513f6>15. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_16-ä»£ç è¾“å‡ºç»“æœ" class="sidebar-link reco-side-_16-ä»£ç è¾“å‡ºç»“æœ" data-v-cb1513f6>16. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_17-ä»£ç è¾“å‡ºç»“æœ" class="sidebar-link reco-side-_17-ä»£ç è¾“å‡ºç»“æœ" data-v-cb1513f6>17. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_18-ä»£ç è¾“å‡ºç»“æœ" class="sidebar-link reco-side-_18-ä»£ç è¾“å‡ºç»“æœ" data-v-cb1513f6>18. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_19-ä»£ç è¾“å‡ºç»“æœ" class="sidebar-link reco-side-_19-ä»£ç è¾“å‡ºç»“æœ" data-v-cb1513f6>19. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_20-ä»£ç è¾“å‡ºç»“æœ" class="sidebar-link reco-side-_20-ä»£ç è¾“å‡ºç»“æœ" data-v-cb1513f6>20. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_21-ä»£ç è¾“å‡ºç»“æœ" class="sidebar-link reco-side-_21-ä»£ç è¾“å‡ºç»“æœ" data-v-cb1513f6>21. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_22-ä»£ç è¾“å‡ºç»“æœ" class="sidebar-link reco-side-_22-ä»£ç è¾“å‡ºç»“æœ" data-v-cb1513f6>22. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_23-ä»£ç è¾“å‡ºç»“æœ" class="sidebar-link reco-side-_23-ä»£ç è¾“å‡ºç»“æœ" data-v-cb1513f6>23. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_24-ä»£ç è¾“å‡ºç»“æœ" class="sidebar-link reco-side-_24-ä»£ç è¾“å‡ºç»“æœ" data-v-cb1513f6>24. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_25-ä»£ç è¾“å‡ºç»“æœ" class="sidebar-link reco-side-_25-ä»£ç è¾“å‡ºç»“æœ" data-v-cb1513f6>25. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_26-ä»£ç è¾“å‡ºç»“æœ" class="sidebar-link reco-side-_26-ä»£ç è¾“å‡ºç»“æœ" data-v-cb1513f6>26. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_27-ä»£ç è¾“å‡ºç»“æœ" class="sidebar-link reco-side-_27-ä»£ç è¾“å‡ºç»“æœ" data-v-cb1513f6>27. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_28-ä»£ç è¾“å‡ºç»“æœ" class="sidebar-link reco-side-_28-ä»£ç è¾“å‡ºç»“æœ" data-v-cb1513f6>28. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_29-ä»£ç è¾“å‡ºç»“æœ" class="sidebar-link reco-side-_29-ä»£ç è¾“å‡ºç»“æœ" data-v-cb1513f6>29. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_30-ä»£ç è¾“å‡ºç»“æœ" class="sidebar-link reco-side-_30-ä»£ç è¾“å‡ºç»“æœ" data-v-cb1513f6>30. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_31-ä»£ç è¾“å‡ºç»“æœ" class="sidebar-link reco-side-_31-ä»£ç è¾“å‡ºç»“æœ" data-v-cb1513f6>31. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-2" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#äºŒã€this" class="sidebar-link reco-side-äºŒã€this" data-v-cb1513f6>äºŒã€this</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_1-ä»£ç è¾“å‡ºç»“æœ-2" class="sidebar-link reco-side-_1-ä»£ç è¾“å‡ºç»“æœ-2" data-v-cb1513f6>1. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_2-ä»£ç è¾“å‡ºç»“æœ-2" class="sidebar-link reco-side-_2-ä»£ç è¾“å‡ºç»“æœ-2" data-v-cb1513f6>2. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_3-ä»£ç è¾“å‡ºç»“æœ-2" class="sidebar-link reco-side-_3-ä»£ç è¾“å‡ºç»“æœ-2" data-v-cb1513f6>3. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_4-ä»£ç è¾“å‡ºç»“æœ-2" class="sidebar-link reco-side-_4-ä»£ç è¾“å‡ºç»“æœ-2" data-v-cb1513f6>4. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_6-ä»£ç è¾“å‡ºç»“æœ-2" class="sidebar-link reco-side-_6-ä»£ç è¾“å‡ºç»“æœ-2" data-v-cb1513f6>6. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_7-ä»£ç è¾“å‡ºç»“æœ-2" class="sidebar-link reco-side-_7-ä»£ç è¾“å‡ºç»“æœ-2" data-v-cb1513f6>7. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_8-ä»£ç è¾“å‡ºé—®é¢˜" class="sidebar-link reco-side-_8-ä»£ç è¾“å‡ºé—®é¢˜" data-v-cb1513f6>8. ä»£ç è¾“å‡ºé—®é¢˜</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_9-ä»£ç è¾“å‡ºç»“æœ-2" class="sidebar-link reco-side-_9-ä»£ç è¾“å‡ºç»“æœ-2" data-v-cb1513f6>9. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_10-ä»£ç è¾“å‡ºç»“æœ-2" class="sidebar-link reco-side-_10-ä»£ç è¾“å‡ºç»“æœ-2" data-v-cb1513f6>10. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_11-ä»£ç è¾“å‡ºç»“æœ-2" class="sidebar-link reco-side-_11-ä»£ç è¾“å‡ºç»“æœ-2" data-v-cb1513f6>11. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_12-ä»£ç è¾“å‡ºç»“æœ-2" class="sidebar-link reco-side-_12-ä»£ç è¾“å‡ºç»“æœ-2" data-v-cb1513f6>12. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_13-ä»£ç è¾“å‡ºç»“æœ-2" class="sidebar-link reco-side-_13-ä»£ç è¾“å‡ºç»“æœ-2" data-v-cb1513f6>13. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_14-ä»£ç è¾“å‡ºç»“æœ-2" class="sidebar-link reco-side-_14-ä»£ç è¾“å‡ºç»“æœ-2" data-v-cb1513f6>14. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_15-ä»£ç è¾“å‡ºç»“æœ-2" class="sidebar-link reco-side-_15-ä»£ç è¾“å‡ºç»“æœ-2" data-v-cb1513f6>15. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-2" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#ä¸‰ã€ä½œç”¨åŸŸ-å˜é‡æå‡-é—­åŒ…" class="sidebar-link reco-side-ä¸‰ã€ä½œç”¨åŸŸ-å˜é‡æå‡-é—­åŒ…" data-v-cb1513f6>ä¸‰ã€ä½œç”¨åŸŸ&amp;å˜é‡æå‡&amp;é—­åŒ…</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_1-ä»£ç è¾“å‡ºç»“æœ-3" class="sidebar-link reco-side-_1-ä»£ç è¾“å‡ºç»“æœ-3" data-v-cb1513f6>1. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_2-ä»£ç è¾“å‡ºç»“æœ-3" class="sidebar-link reco-side-_2-ä»£ç è¾“å‡ºç»“æœ-3" data-v-cb1513f6>2. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_3-ä»£ç è¾“å‡ºç»“æœ-3" class="sidebar-link reco-side-_3-ä»£ç è¾“å‡ºç»“æœ-3" data-v-cb1513f6>3. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_4-ä»£ç è¾“å‡ºç»“æœ-3" class="sidebar-link reco-side-_4-ä»£ç è¾“å‡ºç»“æœ-3" data-v-cb1513f6>4. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_5-ä»£ç è¾“å‡ºç»“æœ-2" class="sidebar-link reco-side-_5-ä»£ç è¾“å‡ºç»“æœ-2" data-v-cb1513f6>5. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_6-ä»£ç è¾“å‡ºç»“æœ-3" class="sidebar-link reco-side-_6-ä»£ç è¾“å‡ºç»“æœ-3" data-v-cb1513f6>6. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_7-ä»£ç è¾“å‡ºé—®é¢˜" class="sidebar-link reco-side-_7-ä»£ç è¾“å‡ºé—®é¢˜" data-v-cb1513f6>7.  ä»£ç è¾“å‡ºé—®é¢˜</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_8-ä»£ç è¾“å‡ºç»“æœ-2" class="sidebar-link reco-side-_8-ä»£ç è¾“å‡ºç»“æœ-2" data-v-cb1513f6>8. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-2" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#å››ã€åŸå‹-ç»§æ‰¿" class="sidebar-link reco-side-å››ã€åŸå‹-ç»§æ‰¿" data-v-cb1513f6>å››ã€åŸå‹&amp;ç»§æ‰¿</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_1-ä»£ç è¾“å‡ºç»“æœ-4" class="sidebar-link reco-side-_1-ä»£ç è¾“å‡ºç»“æœ-4" data-v-cb1513f6>1. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_2-ä»£ç è¾“å‡ºç»“æœ-4" class="sidebar-link reco-side-_2-ä»£ç è¾“å‡ºç»“æœ-4" data-v-cb1513f6>2. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_3-ä»£ç è¾“å‡ºç»“æœ-4" class="sidebar-link reco-side-_3-ä»£ç è¾“å‡ºç»“æœ-4" data-v-cb1513f6>3. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_4-ä»£ç è¾“å‡ºç»“æœ-4" class="sidebar-link reco-side-_4-ä»£ç è¾“å‡ºç»“æœ-4" data-v-cb1513f6>4. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_5-ä»£ç è¾“å‡ºç»“æœ-3" class="sidebar-link reco-side-_5-ä»£ç è¾“å‡ºç»“æœ-3" data-v-cb1513f6>5. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_6-ä»£ç è¾“å‡ºç»“æœ-4" class="sidebar-link reco-side-_6-ä»£ç è¾“å‡ºç»“æœ-4" data-v-cb1513f6>6. ä»£ç è¾“å‡ºç»“æœ</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_7-ä»£ç è¾“å‡ºé—®é¢˜-2" class="sidebar-link reco-side-_7-ä»£ç è¾“å‡ºé—®é¢˜-2" data-v-cb1513f6>7. ä»£ç è¾“å‡ºé—®é¢˜</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_8-ä»£ç è¾“å‡ºé—®é¢˜-2" class="sidebar-link reco-side-_8-ä»£ç è¾“å‡ºé—®é¢˜-2" data-v-cb1513f6>8 ä»£ç è¾“å‡ºé—®é¢˜</a></li><li class="level-3" data-v-cb1513f6><a href="/Front-end-notes/offerShare/11.html#_9-ä»£ç è¾“å‡ºç»“æœ-3" class="sidebar-link reco-side-_9-ä»£ç è¾“å‡ºç»“æœ-3" data-v-cb1513f6>9. ä»£ç è¾“å‡ºç»“æœ</a></li></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/Front-end-notes/assets/js/app.fce70604.js" defer></script><script src="/Front-end-notes/assets/js/3.b45189e7.js" defer></script><script src="/Front-end-notes/assets/js/1.62c193a0.js" defer></script><script src="/Front-end-notes/assets/js/40.969f7bb7.js" defer></script>
  </body>
</html>
